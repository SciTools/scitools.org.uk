

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>iris.util &mdash; Iris 1.7.3 documentation</title>
    
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.7.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="top" title="Iris 1.7.3 documentation" href="../../index.html" />
    <link rel="up" title="Iris reference documentation" href="../iris.html" />
    <link rel="next" title="What’s new in Iris 1.7" href="../../whatsnew/1.7.html" />
    <link rel="prev" title="iris.unit" href="unit.html" />
 
    <META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
    <META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE"> 

    <link rel="stylesheet" href="../../_static/style.css" type="text/css" />
    <script type="text/javascript" src="http://docs.python.org/2/_static/copybutton.js"></script>

  </head>
  <body>
<div style="background-color: white; text-align: left; padding: 1px 10px 1px 15px">
<p style="margin-left: 15px; font-weight:bolder; letter-spacing:0.1ex;">
<a href="../../index.html"><img src="../../_static/Iris7_1_trim_100.png" width=101 height=100 border="0" style="vertical-align:middle" alt="Logo"/></a>
<span style="font-size: 400%; vertical-align:middle"> Iris 1.7 </span>
</p>

</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../whatsnew/1.7.html" title="What’s new in Iris 1.7"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="unit.html" title="iris.unit"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../../contents.html">contents</a>|&nbsp;</li>

          <li><a href="../iris.html" accesskey="U">Iris reference documentation</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="unit.html"
                        title="previous chapter">iris.unit</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../../whatsnew/1.7.html"
                        title="next chapter">What&#8217;s new in Iris 1.7</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/iris/iris/util.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="iris-util">
<span id="id1"></span><h1>iris.util<a class="headerlink" href="#iris-util" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-iris.util"></span><p>Miscellaneous utility functions.</p>
<p>In this module:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#iris.util.timers" title="iris.util.timers"><tt class="xref py py-obj docutils literal"><span class="pre">timers</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.approx_equal" title="iris.util.approx_equal"><tt class="xref py py-obj docutils literal"><span class="pre">approx_equal</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.array_equal" title="iris.util.array_equal"><tt class="xref py py-obj docutils literal"><span class="pre">array_equal</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.as_compatible_shape" title="iris.util.as_compatible_shape"><tt class="xref py py-obj docutils literal"><span class="pre">as_compatible_shape</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.between" title="iris.util.between"><tt class="xref py py-obj docutils literal"><span class="pre">between</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.broadcast_to_shape" title="iris.util.broadcast_to_shape"><tt class="xref py py-obj docutils literal"><span class="pre">broadcast_to_shape</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.broadcast_weights" title="iris.util.broadcast_weights"><tt class="xref py py-obj docutils literal"><span class="pre">broadcast_weights</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.clip_string" title="iris.util.clip_string"><tt class="xref py py-obj docutils literal"><span class="pre">clip_string</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.column_slices_generator" title="iris.util.column_slices_generator"><tt class="xref py py-obj docutils literal"><span class="pre">column_slices_generator</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.create_temp_filename" title="iris.util.create_temp_filename"><tt class="xref py py-obj docutils literal"><span class="pre">create_temp_filename</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.delta" title="iris.util.delta"><tt class="xref py py-obj docutils literal"><span class="pre">delta</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.describe_diff" title="iris.util.describe_diff"><tt class="xref py py-obj docutils literal"><span class="pre">describe_diff</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.ensure_array" title="iris.util.ensure_array"><tt class="xref py py-obj docutils literal"><span class="pre">ensure_array</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.file_is_newer_than" title="iris.util.file_is_newer_than"><tt class="xref py py-obj docutils literal"><span class="pre">file_is_newer_than</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.format_array" title="iris.util.format_array"><tt class="xref py py-obj docutils literal"><span class="pre">format_array</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.guess_coord_axis" title="iris.util.guess_coord_axis"><tt class="xref py py-obj docutils literal"><span class="pre">guess_coord_axis</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.is_regular" title="iris.util.is_regular"><tt class="xref py py-obj docutils literal"><span class="pre">is_regular</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.monotonic" title="iris.util.monotonic"><tt class="xref py py-obj docutils literal"><span class="pre">monotonic</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.new_axis" title="iris.util.new_axis"><tt class="xref py py-obj docutils literal"><span class="pre">new_axis</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.regular_step" title="iris.util.regular_step"><tt class="xref py py-obj docutils literal"><span class="pre">regular_step</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.reverse" title="iris.util.reverse"><tt class="xref py py-obj docutils literal"><span class="pre">reverse</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.rolling_window" title="iris.util.rolling_window"><tt class="xref py py-obj docutils literal"><span class="pre">rolling_window</span></tt></a></li>
<li><a class="reference internal" href="#iris.util.unify_time_units" title="iris.util.unify_time_units"><tt class="xref py py-obj docutils literal"><span class="pre">unify_time_units</span></tt></a></li>
</ul>
</div></blockquote>
<dl class="data">
<dt id="iris.util.timers">
<tt class="descclassname">iris.util.</tt><tt class="descname">timers</tt><a class="headerlink" href="#iris.util.timers" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides multiple named timers, each composed of multiple named steps.</p>
<p class="deprecated">
<span class="versionmodified">Deprecated since version 1.7.</span></p>
<p>Only one step is active at a time, so calling start(timer_name, step_name)
will stop the current step and start the new one.</p>
<p>Example Usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">iris.util</span> <span class="kn">import</span> <span class="n">timers</span>

<span class="k">def</span> <span class="nf">little_func</span><span class="p">(</span><span class="n">param</span><span class="p">):</span>

    <span class="n">timers</span><span class="o">.</span><span class="n">restart</span><span class="p">(</span><span class="s">&quot;little func&quot;</span><span class="p">,</span> <span class="s">&quot;init&quot;</span><span class="p">)</span>
    <span class="n">init</span><span class="p">()</span>

    <span class="n">timers</span><span class="o">.</span><span class="n">restart</span><span class="p">(</span><span class="s">&quot;little func&quot;</span><span class="p">,</span> <span class="s">&quot;main&quot;</span><span class="p">)</span>
    <span class="n">main</span><span class="p">(</span><span class="n">param</span><span class="p">)</span>

    <span class="n">timers</span><span class="o">.</span><span class="n">restart</span><span class="p">(</span><span class="s">&quot;little func&quot;</span><span class="p">,</span> <span class="s">&quot;cleanup&quot;</span><span class="p">)</span>
    <span class="n">cleanup</span><span class="p">()</span>

    <span class="n">timers</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="s">&quot;little func&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">my_big_func</span><span class="p">():</span>

    <span class="n">timers</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="s">&quot;big func&quot;</span><span class="p">,</span> <span class="s">&quot;input&quot;</span><span class="p">)</span>
    <span class="nb">input</span><span class="p">()</span>

    <span class="n">timers</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="s">&quot;big func&quot;</span><span class="p">,</span> <span class="s">&quot;processing&quot;</span><span class="p">)</span>
    <span class="n">little_func</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
    <span class="n">little_func</span><span class="p">(</span><span class="mi">456</span><span class="p">)</span>

    <span class="n">timers</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="s">&quot;big func&quot;</span><span class="p">,</span> <span class="s">&quot;output&quot;</span><span class="p">)</span>
    <span class="n">output</span><span class="p">()</span>

    <span class="k">print</span> <span class="n">timers</span><span class="o">.</span><span class="n">stop</span><span class="p">(</span><span class="s">&quot;big func&quot;</span><span class="p">)</span>

    <span class="k">print</span> <span class="n">timers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;little func&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.approx_equal">
<tt class="descclassname">iris.util.</tt><tt class="descname">approx_equal</tt><big>(</big><em>a</em>, <em>b</em>, <em>max_absolute_error=1e-10</em>, <em>max_relative_error=1e-10</em><big>)</big><a class="headerlink" href="#iris.util.approx_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether two numbers are almost equal, allowing for the
finite precision of floating point numbers.</p>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.array_equal">
<tt class="descclassname">iris.util.</tt><tt class="descname">array_equal</tt><big>(</big><em>array1</em>, <em>array2</em><big>)</big><a class="headerlink" href="#iris.util.array_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether two arrays have the same shape and elements.</p>
<p>This provides the same functionality as <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.array_equal.html#numpy.array_equal" title="(in NumPy v1.9)"><tt class="xref py py-func docutils literal"><span class="pre">numpy.array_equal()</span></tt></a> but with
additional support for arrays of strings.</p>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.as_compatible_shape">
<tt class="descclassname">iris.util.</tt><tt class="descname">as_compatible_shape</tt><big>(</big><em>src_cube</em>, <em>target_cube</em><big>)</big><a class="headerlink" href="#iris.util.as_compatible_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a cube with added length one dimensions to match the dimensionality
and dimension ordering of <cite>target_cube</cite>.</p>
<p>This function can be used to add the dimensions that have been collapsed,
aggregated or sliced out, promoting scalar coordinates to length one
dimension coordinates where necessary. It operates by matching coordinate
metadata to infer the dimensions that need modifying, so the provided
cubes must have coordinates with the same metadata
(see <a class="reference internal" href="coords.html#iris.coords.CoordDefn" title="iris.coords.CoordDefn"><tt class="xref py py-class docutils literal"><span class="pre">iris.coords.CoordDefn</span></tt></a>).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function will load and copy the data payload of <cite>src_cube</cite>.</p>
</div>
<p>Args:</p>
<ul>
<li><dl class="first docutils">
<dt>src_cube:</dt>
<dd><p class="first last">An instance of <a class="reference internal" href="cube.html#iris.cube.Cube" title="iris.cube.Cube"><tt class="xref py py-class docutils literal"><span class="pre">iris.cube.Cube</span></tt></a> with missing dimensions.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>target_cube:</dt>
<dd><p class="first last">An instance of <a class="reference internal" href="cube.html#iris.cube.Cube" title="iris.cube.Cube"><tt class="xref py py-class docutils literal"><span class="pre">iris.cube.Cube</span></tt></a> with the desired dimensionality.</p>
</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>Returns:</dt>
<dd>A instance of <a class="reference internal" href="cube.html#iris.cube.Cube" title="iris.cube.Cube"><tt class="xref py py-class docutils literal"><span class="pre">iris.cube.Cube</span></tt></a> with the same dimensionality as
<cite>target_cube</cite> but with the data and coordinates from <cite>src_cube</cite>
suitably reshaped to fit.</dd>
</dl>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.between">
<tt class="descclassname">iris.util.</tt><tt class="descname">between</tt><big>(</big><em>lh</em>, <em>rh</em>, <em>lh_inclusive=True</em>, <em>rh_inclusive=True</em><big>)</big><a class="headerlink" href="#iris.util.between" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a convenient way of defining a 3 element inequality such as
<tt class="docutils literal"><span class="pre">a</span> <span class="pre">&lt;</span> <span class="pre">number</span> <span class="pre">&lt;</span> <span class="pre">b</span></tt>.</p>
<p>Arguments:</p>
<ul>
<li><dl class="first docutils">
<dt>lh</dt>
<dd><p class="first last">The left hand element of the inequality</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>rh</dt>
<dd><p class="first last">The right hand element of the inequality</p>
</dd>
</dl>
</li>
</ul>
<p>Keywords:</p>
<ul>
<li><dl class="first docutils">
<dt>lh_inclusive - boolean</dt>
<dd><p class="first last">Affects the left hand comparison operator to use in the inequality.
True for <tt class="docutils literal"><span class="pre">&lt;=</span></tt> false for <tt class="docutils literal"><span class="pre">&lt;</span></tt>. Defaults to True.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>rh_inclusive - boolean</dt>
<dd><p class="first last">Same as lh_inclusive but for right hand operator.</p>
</dd>
</dl>
</li>
</ul>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">between_3_and_6</span> <span class="o">=</span> <span class="n">between</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
   <span class="k">print</span> <span class="n">i</span><span class="p">,</span> <span class="n">between_3_and_6</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>


<span class="n">between_3_and_6</span> <span class="o">=</span> <span class="n">between</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">rh_inclusive</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
   <span class="k">print</span> <span class="n">i</span><span class="p">,</span> <span class="n">between_3_and_6</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.broadcast_to_shape">
<tt class="descclassname">iris.util.</tt><tt class="descname">broadcast_to_shape</tt><big>(</big><em>array</em>, <em>shape</em>, <em>dim_map</em><big>)</big><a class="headerlink" href="#iris.util.broadcast_to_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Broadcast an array to a given shape.</p>
<p>Each dimension of the array must correspond to a dimension in the
given shape. Striding is used to repeat the array until it matches
the desired shape, returning repeated views on the original array.
If you need to write to the resulting array, make a copy first.</p>
<p>Args:</p>
<ul>
<li><dl class="first docutils">
<dt>array (<a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.9)"><tt class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></tt></a>-like)</dt>
<dd><p class="first last">An array to broadcast.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>shape (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#list" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">list</span></tt></a>, <tt class="xref py py-class docutils literal"><span class="pre">tuple</span></tt> etc.):</dt>
<dd><p class="first last">The shape the array should be broadcast to.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>dim_map (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#list" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">list</span></tt></a>, <tt class="xref py py-class docutils literal"><span class="pre">tuple</span></tt> etc.):</dt>
<dd><p class="first last">A mapping of the dimensions of <em>array</em> to their corresponding
element in <em>shape</em>. <em>dim_map</em> must be the same length as the
number of dimensions in <em>array</em>. Each element of <em>dim_map</em>
corresponds to a dimension of <em>array</em> and its value provides
the index in <em>shape</em> which the dimension of <em>array</em> corresponds
to, so the first element of <em>dim_map</em> gives the index of <em>shape</em>
that corresponds to the first dimension of <em>array</em> etc.</p>
</dd>
</dl>
</li>
</ul>
<p>Examples:</p>
<p>Broadcasting an array of shape (2, 3) to the shape (5, 2, 6, 3)
where the first dimension of the array corresponds to the second
element of the desired shape and the second dimension of the array
corresponds to the fourth element of the desired shape:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">broadcast_to_shape</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<p>Broadcasting an array of shape (48, 96) to the shape (96, 48, 12):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># a is an array of shape (48, 96)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">broadcast_to_shape</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">(</span><span class="mi">96</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.broadcast_weights">
<tt class="descclassname">iris.util.</tt><tt class="descname">broadcast_weights</tt><big>(</big><em>weights</em>, <em>array</em>, <em>dims</em><big>)</big><a class="headerlink" href="#iris.util.broadcast_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Broadcast a weights array to the shape of another array.</p>
<p>Each dimension of the weights array must correspond to a dimension
of the other array.</p>
<p class="deprecated">
<span class="versionmodified">Deprecated since version 1.6.</span></p>
<p>Args:</p>
<ul>
<li><dl class="first docutils">
<dt>weights (<a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.9)"><tt class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></tt></a>-like):</dt>
<dd><p class="first last">An array of weights to broadcast.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>array (<a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.9)"><tt class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></tt></a>-like):</dt>
<dd><p class="first last">An array whose shape is the target shape for <em>weights</em>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>dims (<a class="reference external" href="http://docs.python.org/2.7/library/functions.html#list" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">list</span></tt></a> <tt class="xref py py-class docutils literal"><span class="pre">tuple</span></tt> etc.):</dt>
<dd><p class="first last">A sequence of dimension indices, specifying which dimensions of
<em>array</em> are represented in <em>weights</em>. The order the dimensions
are given in is not important, but the order of the dimensions
in <em>weights</em> should be the same as the relative ordering of the
corresponding dimensions in <em>array</em>. For example, if <em>array</em> is
4d with dimensions (ntime, nlev, nlat, nlon) and <em>weights</em>
provides latitude-longitude grid weightings then <em>dims</em> could be
set to [2, 3] or [3, 2] but <em>weights</em> must have shape
(nlat, nlon) since the latitude dimension comes before the
longitude dimension in <em>array</em>.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.clip_string">
<tt class="descclassname">iris.util.</tt><tt class="descname">clip_string</tt><big>(</big><em>the_str</em>, <em>clip_length=70</em>, <em>rider='...'</em><big>)</big><a class="headerlink" href="#iris.util.clip_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a clipped version of the string based on the specified clip
length and whether or not any graceful clip points can be found.</p>
<p>If the string to be clipped is shorter than the specified clip
length, the original string is returned.</p>
<p>If the string is longer than the clip length, a graceful point (a
space character) after the clip length is searched for. If a
graceful point is found the string is clipped at this point and the
rider is added. If no graceful point can be found, then the string
is clipped exactly where the user requested and the rider is added.</p>
<p>Args:</p>
<ul>
<li><dl class="first docutils">
<dt>the_str</dt>
<dd><p class="first last">The string to be clipped</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>clip_length</dt>
<dd><p class="first last">The length in characters that the input string should be clipped
to. Defaults to a preconfigured value if not specified.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>rider</dt>
<dd><p class="first last">A series of characters appended at the end of the returned
string to show it has been clipped. Defaults to a preconfigured
value if not specified.</p>
</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>Returns:</dt>
<dd>The string clipped to the required length with a rider appended.
If the clip length was greater than the orignal string, the
original string is returned unaltered.</dd>
</dl>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.column_slices_generator">
<tt class="descclassname">iris.util.</tt><tt class="descname">column_slices_generator</tt><big>(</big><em>full_slice</em>, <em>ndims</em><big>)</big><a class="headerlink" href="#iris.util.column_slices_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a full slice full of tuples, return a dictionary mapping old
data dimensions to new and a generator which gives the successive
slices needed to index correctly (across columns).</p>
<p>This routine deals with the special functionality for tuple based
indexing e.g. [0, (3, 5), :, (1, 6, 8)] by first providing a slice
which takes the non tuple slices out first i.e. [0, :, :, :] then
subsequently iterates through each of the tuples taking out the
appropriate slices i.e. [(3, 5), :, :] followed by [:, :, (1, 6, 8)]</p>
<p>This method was developed as numpy does not support the direct
approach of [(3, 5), : , (1, 6, 8)] for column based indexing.</p>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.create_temp_filename">
<tt class="descclassname">iris.util.</tt><tt class="descname">create_temp_filename</tt><big>(</big><em>suffix=''</em><big>)</big><a class="headerlink" href="#iris.util.create_temp_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a temporary file name.</p>
<p>Args:</p>
<blockquote>
<div><ul class="simple">
<li>suffix  -  Optional filename extension.</li>
</ul>
</div></blockquote>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.delta">
<tt class="descclassname">iris.util.</tt><tt class="descname">delta</tt><big>(</big><em>ndarray</em>, <em>dimension</em>, <em>circular=False</em><big>)</big><a class="headerlink" href="#iris.util.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the difference between values along a given dimension.</p>
<p>Args:</p>
<ul>
<li><dl class="first docutils">
<dt>ndarray:</dt>
<dd><p class="first last">The array over which to do the difference.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>dimension:</dt>
<dd><p class="first last">The dimension over which to do the difference on ndarray.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>circular:</dt>
<dd><p class="first">If not False then return n results in the requested dimension
with the delta between the last and first element included in
the result otherwise the result will be of length n-1 (where n
is the length of ndarray in the given dimension&#8217;s direction)</p>
<p>If circular is numeric then the value of circular will be added
to the last element of the given dimension if the last element
is negative, otherwise the value of circular will be subtracted
from the last element.</p>
<p>The example below illustrates the process:</p>
<div class="last highlight-python"><pre>original array              -180, -90,  0,    90
delta (with circular=360):    90,  90, 90, -270+360</pre>
</div>
</dd>
</dl>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The difference algorithm implemented is forward difference:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">iris.util</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">original</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">180</span><span class="p">,</span> <span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iris</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">delta</span><span class="p">(</span><span class="n">original</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">array([90, 90, 90])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">iris</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">delta</span><span class="p">(</span><span class="n">original</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">circular</span><span class="o">=</span><span class="mi">360</span><span class="p">)</span>
<span class="go">array([90, 90, 90, 90])</span>
</pre></div>
</div>
</div>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.describe_diff">
<tt class="descclassname">iris.util.</tt><tt class="descname">describe_diff</tt><big>(</big><em>cube_a</em>, <em>cube_b</em>, <em>output_file=None</em><big>)</big><a class="headerlink" href="#iris.util.describe_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the differences that prevent compatibility between two cubes, as
defined by <a class="reference internal" href="cube.html#iris.cube.Cube.is_compatible" title="iris.cube.Cube.is_compatible"><tt class="xref py py-meth docutils literal"><span class="pre">iris.cube.Cube.is_compatible()</span></tt></a>.</p>
<p>Args:</p>
<ul>
<li><dl class="first docutils">
<dt>cube_a:</dt>
<dd><p class="first last">An instance of <a class="reference internal" href="cube.html#iris.cube.Cube" title="iris.cube.Cube"><tt class="xref py py-class docutils literal"><span class="pre">iris.cube.Cube</span></tt></a> or
<a class="reference internal" href="cube.html#iris.cube.CubeMetadata" title="iris.cube.CubeMetadata"><tt class="xref py py-class docutils literal"><span class="pre">iris.cube.CubeMetadata</span></tt></a>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>cube_b:</dt>
<dd><p class="first last">An instance of <a class="reference internal" href="cube.html#iris.cube.Cube" title="iris.cube.Cube"><tt class="xref py py-class docutils literal"><span class="pre">iris.cube.Cube</span></tt></a> or
<a class="reference internal" href="cube.html#iris.cube.CubeMetadata" title="iris.cube.CubeMetadata"><tt class="xref py py-class docutils literal"><span class="pre">iris.cube.CubeMetadata</span></tt></a>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>output_file:</dt>
<dd><p class="first last">A <tt class="xref py py-class docutils literal"><span class="pre">file</span></tt> or file-like object to receive output. Defaults to
sys.stdout.</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="cube.html#iris.cube.Cube.is_compatible" title="iris.cube.Cube.is_compatible"><tt class="xref py py-meth docutils literal"><span class="pre">iris.cube.Cube.is_compatible()</span></tt></a></p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Compatibility does not guarantee that two cubes can be merged.
Instead, this function is designed to provide a verbose description
of the differences in metadata between two cubes. Determining whether
two cubes will merge requires additional logic that is beyond the
scope of this function.</p>
</div>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.ensure_array">
<tt class="descclassname">iris.util.</tt><tt class="descname">ensure_array</tt><big>(</big><em>a</em><big>)</big><a class="headerlink" href="#iris.util.ensure_array" title="Permalink to this definition">¶</a></dt>
<dd><p class="deprecated">
<span class="versionmodified">Deprecated since version 1.7.</span></p>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.file_is_newer_than">
<tt class="descclassname">iris.util.</tt><tt class="descname">file_is_newer_than</tt><big>(</big><em>result_path</em>, <em>source_paths</em><big>)</big><a class="headerlink" href="#iris.util.file_is_newer_than" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether the &#8216;result&#8217; file has a later modification time than all of
the &#8216;source&#8217; files.</p>
<p>If a stored result depends entirely on known &#8216;sources&#8217;, it need only be
re-built when one of them changes.  This function can be used to test that
by comparing file timestamps.</p>
<p>Args:</p>
<ul>
<li><dl class="first docutils">
<dt>result_path (string):</dt>
<dd><p class="first last">The filepath of a file containing some derived result data.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>source_paths (string or iterable of strings):</dt>
<dd><p class="first last">The path(s) to the original datafiles used to make the result.  May
include wildcards and &#8216;~&#8217; expansions (like Iris load paths), but not
URIs.</p>
</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>Returns:</dt>
<dd><p class="first">True if all the sources are older than the result, else False.</p>
<p class="last">If any of the file paths describes no existing files, an exception will
be raised.</p>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>There are obvious caveats to using file timestamps for this, as correct
usage depends on how the sources might change.  For example, a file
could be replaced by one of the same name, but an older timestamp.</p>
<p class="last">If wildcards and &#8216;~&#8217; expansions are used, this introduces even more
uncertainty, as then you cannot even be sure that the resulting list of
file names is the same as the originals.  For example, some files may
have been deleted or others added.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The result file may often be a <a class="reference external" href="http://docs.python.org/2.7/library/pickle.html#module-pickle" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">pickle</span></tt></a> file.  In that case, it
also depends on the relevant module sources, so extra caution is
required.  Ideally, an additional check on iris.__version__ is advised.</p>
</div>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.format_array">
<tt class="descclassname">iris.util.</tt><tt class="descname">format_array</tt><big>(</big><em>arr</em><big>)</big><a class="headerlink" href="#iris.util.format_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the given array as a string, using the python builtin str
function on a piecewise basis.</p>
<p>Useful for xml representation of arrays.</p>
<p>For customisations, use the <tt class="xref py py-mod docutils literal"><span class="pre">numpy.core.arrayprint</span></tt> directly.</p>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.guess_coord_axis">
<tt class="descclassname">iris.util.</tt><tt class="descname">guess_coord_axis</tt><big>(</big><em>coord</em><big>)</big><a class="headerlink" href="#iris.util.guess_coord_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a &#8220;best guess&#8221; axis name of the coordinate.</p>
<p>Heuristic categoration of the coordinate into either label
&#8216;T&#8217;, &#8216;Z&#8217;, &#8216;Y&#8217;, &#8216;X&#8217; or None.</p>
<p>Args:</p>
<ul>
<li><dl class="first docutils">
<dt>coord:</dt>
<dd><p class="first last">The <a class="reference internal" href="coords.html#iris.coords.Coord" title="iris.coords.Coord"><tt class="xref py py-class docutils literal"><span class="pre">iris.coords.Coord</span></tt></a>.</p>
</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>Returns:</dt>
<dd>&#8216;T&#8217;, &#8216;Z&#8217;, &#8216;Y&#8217;, &#8216;X&#8217;, or None.</dd>
</dl>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.is_regular">
<tt class="descclassname">iris.util.</tt><tt class="descname">is_regular</tt><big>(</big><em>coord</em><big>)</big><a class="headerlink" href="#iris.util.is_regular" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine if the given coord is regular.</p>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.monotonic">
<tt class="descclassname">iris.util.</tt><tt class="descname">monotonic</tt><big>(</big><em>array</em>, <em>strict=False</em>, <em>return_direction=False</em><big>)</big><a class="headerlink" href="#iris.util.monotonic" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether the given 1d array is monotonic.</p>
<p>Note that, the array must not contain missing data.</p>
<p>Kwargs:</p>
<ul>
<li><dl class="first docutils">
<dt>strict (boolean)</dt>
<dd><p class="first last">Flag to enable strict monotonic checking</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>return_direction (boolean)</dt>
<dd><p class="first last">Flag to change return behaviour to return
(monotonic_status, direction). Direction will be 1 for positive
or -1 for negative. The direction is meaningless if the array is
not monotonic.</p>
</dd>
</dl>
</li>
</ul>
<p>Returns:</p>
<ul>
<li><dl class="first docutils">
<dt>monotonic_status (boolean)</dt>
<dd><p class="first">Whether the array was monotonic.</p>
<p>If the return_direction flag was given then the returned value
will be:</p>
<blockquote class="last">
<div><p><tt class="docutils literal"><span class="pre">(monotonic_status,</span> <span class="pre">direction)</span></tt></p>
</div></blockquote>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.new_axis">
<tt class="descclassname">iris.util.</tt><tt class="descname">new_axis</tt><big>(</big><em>src_cube</em>, <em>scalar_coord=None</em><big>)</big><a class="headerlink" href="#iris.util.new_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new axis as the leading dimension of the cube, promoting a scalar
coordinate if specified.</p>
<p>Args:</p>
<ul>
<li><dl class="first docutils">
<dt>src_cube (<a class="reference internal" href="cube.html#iris.cube.Cube" title="iris.cube.Cube"><tt class="xref py py-class docutils literal"><span class="pre">iris.cube.Cube</span></tt></a>)</dt>
<dd><p class="first last">Source cube on which to generate a new axis.</p>
</dd>
</dl>
</li>
</ul>
<p>Kwargs:</p>
<ul>
<li><dl class="first docutils">
<dt>scalar_coord (<tt class="xref py py-class docutils literal"><span class="pre">iris.coord.Coord</span></tt> or &#8216;string&#8217;)</dt>
<dd><p class="first last">Scalar coordinate to promote to a dimension coordinate.</p>
</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>Returns:</dt>
<dd>A new <a class="reference internal" href="cube.html#iris.cube.Cube" title="iris.cube.Cube"><tt class="xref py py-class docutils literal"><span class="pre">iris.cube.Cube</span></tt></a> instance with one extra leading dimension
(length 1).</dd>
</dl>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cube</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(360, 360)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ncube</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">new_axis</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="s">&#39;time&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ncube</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1, 360, 360)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Calling this method will trigger any deferred loading, causing the
data array of the cube to be loaded into memory.</p>
</div>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.regular_step">
<tt class="descclassname">iris.util.</tt><tt class="descname">regular_step</tt><big>(</big><em>coord</em><big>)</big><a class="headerlink" href="#iris.util.regular_step" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the regular step from a coord or fail.</p>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.reverse">
<tt class="descclassname">iris.util.</tt><tt class="descname">reverse</tt><big>(</big><em>array</em>, <em>axes</em><big>)</big><a class="headerlink" href="#iris.util.reverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Reverse the array along the given axes.</p>
<p>Args:</p>
<ul>
<li><dl class="first docutils">
<dt>array</dt>
<dd><p class="first last">The array to reverse</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>axes</dt>
<dd><p class="first last">A single value or array of values of axes to reverse</p>
</dd>
</dl>
</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">a</span>
<span class="go">[[[ 0  1  2  3]</span>
<span class="go">  [ 4  5  6  7]</span>
<span class="go">  [ 8  9 10 11]]</span>

<span class="go"> [[12 13 14 15]</span>
<span class="go">  [16 17 18 19]</span>
<span class="go">  [20 21 22 23]]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">reverse</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">[[[ 8  9 10 11]</span>
<span class="go">  [ 4  5  6  7]</span>
<span class="go">  [ 0  1  2  3]]</span>

<span class="go"> [[20 21 22 23]</span>
<span class="go">  [16 17 18 19]</span>
<span class="go">  [12 13 14 15]]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">reverse</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="go">[[[11 10  9  8]</span>
<span class="go">  [ 7  6  5  4]</span>
<span class="go">  [ 3  2  1  0]]</span>

<span class="go"> [[23 22 21 20]</span>
<span class="go">  [19 18 17 16]</span>
<span class="go">  [15 14 13 12]]]</span>
</pre></div>
</div>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.rolling_window">
<tt class="descclassname">iris.util.</tt><tt class="descname">rolling_window</tt><big>(</big><em>a</em>, <em>window=1</em>, <em>step=1</em>, <em>axis=-1</em><big>)</big><a class="headerlink" href="#iris.util.rolling_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an ndarray with a rolling window of the last dimension</p>
<p>Args:</p>
<ul>
<li><dl class="first docutils">
<dt>a <span class="classifier-delimiter">:</span> <span class="classifier">array_like</span></dt>
<dd><p class="first last">Array to add rolling window to</p>
</dd>
</dl>
</li>
</ul>
<p>Kwargs:</p>
<ul>
<li><dl class="first docutils">
<dt>window <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">Size of rolling window</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>step <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">Size of step between rolling windows</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>axis <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">Axis to take the rolling window over</p>
</dd>
</dl>
</li>
</ul>
<p>Returns:</p>
<blockquote>
<div>Array that is a view of the original array with an added dimension
of the size of the given window at axis + 1.</div></blockquote>
<p>Examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rolling_window</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">array([[[0, 1, 2], [1, 2, 3], [2, 3, 4]],</span>
<span class="go">       [[5, 6, 7], [6, 7, 8], [7, 8, 9]]])</span>
</pre></div>
</div>
<p>Calculate rolling mean of last dimension:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">rolling_window</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array([[ 1.,  2.,  3.],</span>
<span class="go">       [ 6.,  7.,  8.]])</span>
</pre></div>
</div>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.util.unify_time_units">
<tt class="descclassname">iris.util.</tt><tt class="descname">unify_time_units</tt><big>(</big><em>cubes</em><big>)</big><a class="headerlink" href="#iris.util.unify_time_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs an in-place conversion of the time units of all time coords in the
cubes in a given iterable. One common epoch is defined for each calendar
found in the cubes to prevent units being defined with inconsistencies
between epoch and calendar.</p>
<p>Each epoch is defined from the first suitable time coordinate found in the
input cubes.</p>
<p>Arg:</p>
<ul>
<li><dl class="first docutils">
<dt>cubes:</dt>
<dd><p class="first last">An iterable containing <a class="reference internal" href="cube.html#iris.cube.Cube" title="iris.cube.Cube"><tt class="xref py py-class docutils literal"><span class="pre">iris.cube.Cube</span></tt></a> instances.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../whatsnew/1.7.html" title="What’s new in Iris 1.7"
             >next</a> |</li>
        <li class="right" >
          <a href="unit.html" title="iris.unit"
             >previous</a> |</li>
        <li><a href="../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../../contents.html">contents</a>|&nbsp;</li>

          <li><a href="../iris.html" >Iris reference documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
    <p style="text-align: left; float: left; margin: 0px; padding: 0 0 0 5px;">Documentation licensed under the <a href="http://reference.data.gov.uk/id/open-government-licence" rel="license">Open Government Licence</a></p>
        &copy; <a href="../../copyright.html">British Crown Copyright</a> 2010 - 2013, Met Office
    </div>


  <!-- Include a version switcher to easily move between the documentation of different versions -->
  <script type=text/javascript src=/iris/docs/version_switch.js></script>
  </body>
</html>