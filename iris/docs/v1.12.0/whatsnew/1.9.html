<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>What’s New in Iris 1.9 &mdash; Iris 1.12.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.12.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="Iris 1.12.0 documentation" href="../index.html" />
    <link rel="up" title="What’s new in Iris" href="index.html" />
    <link rel="next" title="What’s new in Iris 1.8" href="1.8.html" />
    <link rel="prev" title="What’s New in Iris 1.10" href="1.10.html" />
 
    <META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
    <META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE"> 

    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <script type="text/javascript" src="http://docs.python.org/2/_static/copybutton.js"></script>

  </head>
  <body>
<div style="background-color: white; text-align: left; padding: 1px 10px 1px 15px">
<p style="margin-left: 15px; font-weight:bolder; letter-spacing:0.1ex;">
<a href="../index.html"><img src="../_static/Iris7_1_trim_100.png" width=101 height=100 border="0" style="vertical-align:middle" alt="Logo"/></a>
<span style="font-size: 400%; vertical-align:middle"> Iris 1.12 </span>
</p>

</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="1.8.html" title="What’s new in Iris 1.8"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="1.10.html" title="What’s New in Iris 1.10"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../contents.html">contents</a>|&nbsp;</li>

          <li><a href="index.html" accesskey="U">What&#8217;s new in Iris</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">What&#8217;s New in Iris 1.9</a><ul>
<li><a class="reference internal" href="#iris-1-9-features">Iris 1.9 Features</a></li>
<li><a class="reference internal" href="#bugs-fixed">Bugs Fixed</a><ul>
<li><a class="reference internal" href="#version-1-9-1">Version 1.9.1</a></li>
<li><a class="reference internal" href="#version-1-9-2">Version 1.9.2</a></li>
</ul>
</li>
<li><a class="reference internal" href="#incompatible-changes">Incompatible Changes</a></li>
<li><a class="reference internal" href="#deprecations">Deprecations</a></li>
<li><a class="reference internal" href="#documentation-changes">Documentation Changes</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="1.10.html"
                        title="previous chapter">What&#8217;s New in Iris 1.10</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="1.8.html"
                        title="next chapter">What&#8217;s new in Iris 1.8</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/whatsnew/1.9.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="what-s-new-in-iris-1-9">
<h1>What&#8217;s New in Iris 1.9<a class="headerlink" href="#what-s-new-in-iris-1-9" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Release:</th><td class="field-body">1.9.2</td>
</tr>
<tr class="field-even field"><th class="field-name">Date:</th><td class="field-body">28th January 2016</td>
</tr>
</tbody>
</table>
<p>This document explains the new/changed features of Iris in version 1.9
(<a class="reference internal" href="index.html"><em>View all changes</em></a>.)</p>
<div class="section" id="iris-1-9-features">
<h2>Iris 1.9 Features<a class="headerlink" href="#iris-1-9-features" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Support for running on Python 3.4 has been added to the whole code base. Some features which
depend on external libraries will not be available until they also support Python 3, namely:</p>
<blockquote>
<div><ul class="simple">
<li>gribapi does not yet provide a Python 3 interface</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Added the UM pseudo level type to the information made available in the STASH_TRANS table in <tt class="xref py py-mod docutils literal"><span class="pre">iris.fileformats.um._ff_cross_references</span></tt></p>
</li>
<li><p class="first">When reading &#8220;cell_methods&#8221; attributes from NetCDF files, allow optional whitespace before the colon.
This is not strictly in the CF spec, but is a common occurrence.</p>
</li>
<li><p class="first">Basic cube arithemetic (plus, minus, times, divide) now supports lazy evaluation.</p>
</li>
<li><p class="first"><a class="reference internal" href="../iris/iris/analysis/cartography.html#iris.analysis.cartography.rotate_winds" title="iris.analysis.cartography.rotate_winds"><tt class="xref py py-meth docutils literal"><span class="pre">iris.analysis.cartography.rotate_winds()</span></tt></a> can now operate much faster on multi-layer (i.e. &gt; 2-dimensional) cubes,
as it calculates rotation coefficients only once and reuses them for additional layers.</p>
</li>
<li><p class="first">Linear regridding of a multi-layer (i.e. &gt; 2-dimensional) cube is now much faster,
as it calculates transform coefficients just once and reuses them for additional layers.</p>
</li>
<li><p class="first">Ensemble statistics can now be saved to GRIB2, using Product Definition Template 4.11.</p>
</li>
<li><p class="first">Loading of NetCDF data with ocean vertical coordinates now returns a &#8216;depth&#8217; in addition to an &#8216;eta&#8217; cube.
This operates on specific defined dimensionless coordinates : see CF spec version 1.6, Appendix D.</p>
</li>
<li><p class="first"><a class="reference internal" href="../iris/iris/analysis/stats.html#iris.analysis.stats.pearsonr" title="iris.analysis.stats.pearsonr"><tt class="xref py py-func docutils literal"><span class="pre">iris.analysis.stats.pearsonr()</span></tt></a> updates:</p>
<ul class="simple">
<li>Cubes can now be different shapes, provided one is broadcastable to the
other.</li>
<li>Accepts weights keyword for weighted correlations.</li>
<li>Accepts mdtol keyword for missing data tolerance level.</li>
<li>Accepts common_mask keyword for restricting calculation to unmasked pairs of
cells.</li>
</ul>
</li>
<li><p class="first">Added a new point-in-cell regridding scheme, <a class="reference internal" href="../iris/iris/experimental/regrid.html#iris.experimental.regrid.PointInCell" title="iris.experimental.regrid.PointInCell"><tt class="xref py py-class docutils literal"><span class="pre">iris.experimental.regrid.PointInCell</span></tt></a>.</p>
</li>
<li><p class="first">Added <a class="reference internal" href="../iris/iris/analysis.html#iris.analysis.WPERCENTILE" title="iris.analysis.WPERCENTILE"><tt class="xref py py-meth docutils literal"><span class="pre">iris.analysis.WPERCENTILE()</span></tt></a> - a new weighted aggregator for calculating
percentiles.</p>
</li>
<li><p class="first">Added cell-method translations for LBPROC=64 and 192 in UM files, encoding &#8216;zonal mean&#8217; and &#8216;zonal+time mean&#8217;.</p>
</li>
<li><p class="first">Support for loading GRIB2 messages defined on a Lambert conformal grid has been added to
the GRIB2 loader.</p>
</li>
<li><p class="first">Data on potential-temperature (theta) levels can now be saved to GRIB2, with a fixed surface type of 107.</p>
</li>
<li><p class="first">Added several new helper functions for file-save customisation,
(see also : <a class="reference internal" href="../userguide/saving_iris_cubes.html"><em>Saving Iris Cubes</em></a>):</p>
<ul class="simple">
<li><a class="reference internal" href="../iris/iris/fileformats/grib.html#iris.fileformats.grib.as_pairs" title="iris.fileformats.grib.as_pairs"><tt class="xref py py-meth docutils literal"><span class="pre">iris.fileformats.grib.as_pairs()</span></tt></a></li>
<li><a class="reference internal" href="../iris/iris/fileformats/grib.html#iris.fileformats.grib.as_messages" title="iris.fileformats.grib.as_messages"><tt class="xref py py-meth docutils literal"><span class="pre">iris.fileformats.grib.as_messages()</span></tt></a></li>
<li><a class="reference internal" href="../iris/iris/fileformats/grib.html#iris.fileformats.grib.save_messages" title="iris.fileformats.grib.save_messages"><tt class="xref py py-meth docutils literal"><span class="pre">iris.fileformats.grib.save_messages()</span></tt></a></li>
<li><a class="reference internal" href="../iris/iris/fileformats/pp.html#iris.fileformats.pp.as_pairs" title="iris.fileformats.pp.as_pairs"><tt class="xref py py-meth docutils literal"><span class="pre">iris.fileformats.pp.as_pairs()</span></tt></a></li>
<li><a class="reference internal" href="../iris/iris/fileformats/pp.html#iris.fileformats.pp.as_fields" title="iris.fileformats.pp.as_fields"><tt class="xref py py-meth docutils literal"><span class="pre">iris.fileformats.pp.as_fields()</span></tt></a></li>
<li><a class="reference internal" href="../iris/iris/fileformats/pp.html#iris.fileformats.pp.save_fields" title="iris.fileformats.pp.save_fields"><tt class="xref py py-meth docutils literal"><span class="pre">iris.fileformats.pp.save_fields()</span></tt></a></li>
</ul>
</li>
<li><p class="first">Loading data from GRIB2 now supports most of the currently defined &#8216;data representation templates&#8217; : 
code numbers 0, 1, 2, 3, 4, 40, 41, 50, 51 and 61.</p>
</li>
<li><p class="first">When a Fieldsfile is opened for update as a <a class="reference internal" href="../iris/iris/experimental/um.html#iris.experimental.um.FieldsFileVariant" title="iris.experimental.um.FieldsFileVariant"><tt class="xref py py-class docutils literal"><span class="pre">iris.experimental.um.FieldsFileVariant</span></tt></a>,
unmodified packed data in the file can now be retained in the original form.
Previously it could only be stored in an unpacked form.</p>
</li>
<li><p class="first">When reading and writing NetCDF data, the CF &#8216;flag&#8217; attributes,
&#8220;flag_masks&#8221;, &#8220;flag_meanings&#8221; and &#8220;flag_values&#8221; are now preserved through Iris load and save.</p>
</li>
<li><p class="first"><a class="reference external" href="https://github.com/SciTools/mo_pack">mo_pack</a> was added as an optional dependency.
It is used to encode and decode data in WGDOS packed form.</p>
</li>
<li><p class="first">The <a class="reference internal" href="../iris/iris/experimental/um.html#iris.experimental.um.Field.get_data" title="iris.experimental.um.Field.get_data"><tt class="xref py py-meth docutils literal"><span class="pre">iris.experimental.um.Field.get_data()</span></tt></a> method can now be used to read Fieldsfile data
after the original <a class="reference internal" href="../iris/iris/experimental/um.html#iris.experimental.um.FieldsFileVariant" title="iris.experimental.um.FieldsFileVariant"><tt class="xref py py-class docutils literal"><span class="pre">iris.experimental.um.FieldsFileVariant</span></tt></a> has been closed.</p>
</li>
</ul>
</div>
<div class="section" id="bugs-fixed">
<h2>Bugs Fixed<a class="headerlink" href="#bugs-fixed" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed a bug in <a class="reference internal" href="../iris/iris/unit.html#iris.unit.Unit.convert" title="iris.unit.Unit.convert"><tt class="xref py py-meth docutils literal"><span class="pre">iris.unit.Unit.convert()</span></tt></a>
(and the equivalent in <a class="reference external" href="https://github.com/SciTools/cf_units">cf_units</a>)
so that it now converts data to the native endianness, without which udunits could not read it correctly.</li>
<li>Fixed a bug with loading WGDOS packed data in <a class="reference internal" href="../iris/iris/experimental/um.html#module-iris.experimental.um" title="iris.experimental.um"><tt class="xref py py-mod docutils literal"><span class="pre">iris.experimental.um</span></tt></a>,
which could occasionally crash, with some data.</li>
<li>Ignore non-numeric suffices in the numpy version string, which would otherwise crash some regridding routines.</li>
<li>fixed a bug in <a class="reference internal" href="../iris/iris/fileformats/um_cf_map.html#module-iris.fileformats.um_cf_map" title="iris.fileformats.um_cf_map"><tt class="xref py py-mod docutils literal"><span class="pre">iris.fileformats.um_cf_map</span></tt></a> where the standard name
for the stash code m01s12i187 was incorrectly set, such that it is inconsistent 
with the stated unit of measure, &#8216;m s-1&#8217;.  The different name, a long_name
of &#8216;change_over_time_in_upward_air_velocity_due_to_advection&#8217; with
units of &#8216;m s-1&#8217; is now used instead.</li>
<li>Fixed a bug in <a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube.intersection" title="iris.cube.Cube.intersection"><tt class="xref py py-meth docutils literal"><span class="pre">iris.cube.Cube.intersection()</span></tt></a>.
When edge points were at (base + period), intersection would unnecessarily wrap the data.</li>
<li>Fixed a bug in <a class="reference internal" href="../iris/iris/fileformats/pp.html#module-iris.fileformats.pp" title="iris.fileformats.pp"><tt class="xref py py-mod docutils literal"><span class="pre">iris.fileformats.pp</span></tt></a>.
A previous release removed the ability to pass a partial constraint on STASH attribute.</li>
<li><a class="reference internal" href="../iris/iris/plot.html#iris.plot.default_projection_extent" title="iris.plot.default_projection_extent"><tt class="xref py py-meth docutils literal"><span class="pre">iris.plot.default_projection_extent()</span></tt></a> now correctly raises an exception if a cube has X bounds but no Y bounds, or vice versa.
Previously it never failed this, as the test was wrong.</li>
<li>When loading NetCDF data, a &#8220;units&#8221; attribute containing unicode characters is now transformed by backslash-replacement.
Previously this caused a crash.  Note: unicode units are <em>not supported in the CF conventions</em>.</li>
<li>When saving to NetCDF, factory-derived auxiliary coordinates are now correctly saved with different names when they are not identical.
Previously, such coordinates could be saved with the same name, leading to errors.</li>
<li>Fixed a bug in <a class="reference internal" href="../iris/iris/experimental/um.html#iris.experimental.um.FieldsFileVariant.close" title="iris.experimental.um.FieldsFileVariant.close"><tt class="xref py py-meth docutils literal"><span class="pre">iris.experimental.um.FieldsFileVariant.close()</span></tt></a>,
which now correctly allocates extra blocks for larger lookups when saving.
Previously, when larger files open for update were closed, they could be written out with data overlapping the lookup table.</li>
<li>Fixed a bug in <a class="reference internal" href="../iris/iris/aux_factory.html#iris.aux_factory.OceanSigmaZFactory" title="iris.aux_factory.OceanSigmaZFactory"><tt class="xref py py-class docutils literal"><span class="pre">iris.aux_factory.OceanSigmaZFactory</span></tt></a>
which sometimes caused crashes when fetching the points of an &#8220;ocean sigma z&#8221; coordinate.</li>
</ul>
<div class="section" id="version-1-9-1">
<h3>Version 1.9.1<a class="headerlink" href="#version-1-9-1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Fixed a unicode bug preventing standard names from being built cleanly when installing in Python3</li>
</ul>
</div>
<div class="section" id="version-1-9-2">
<h3>Version 1.9.2<a class="headerlink" href="#version-1-9-2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>New warning regarding data loss if writing to an open file which is also open to read, with lazy data.</li>
<li>Removal of a warning about data payload loading from concatenate.</li>
<li>Updates to concatenate documentation.</li>
<li>Fixed a bug with a name change in the netcdf4-python package.</li>
<li>Fixed a bug building the documentation examples.</li>
<li>Fixed a bug avoiding sorting classes directly when <a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube.coord_system" title="iris.cube.Cube.coord_system"><tt class="xref py py-meth docutils literal"><span class="pre">iris.cube.Cube.coord_system()</span></tt></a> is used in Python3.</li>
<li>Fixed a bug regarding unsuccessful dot import.</li>
</ul>
</div>
</div>
<div class="section" id="incompatible-changes">
<h2>Incompatible Changes<a class="headerlink" href="#incompatible-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>GRIB message/file reading and writing may not be available for Python 3 due to GRIB API limitations.</li>
</ul>
</div>
<div class="section" id="deprecations">
<h2>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Deprecated <a class="reference internal" href="../iris/iris/unit.html#module-iris.unit" title="iris.unit"><tt class="xref py py-mod docutils literal"><span class="pre">iris.unit</span></tt></a>, with unit functionality provided by <a class="reference external" href="https://github.com/SciTools/cf_units">cf_units</a> instead.</li>
<li>When loading from NetCDF, a deprecation warning is emitted if there is vertical coordinate information
that <em>would</em> produce extra result cubes if <tt class="xref py py-data docutils literal"><span class="pre">iris.FUTURE.netcdf_promote</span></tt> were set,
but it is <em>not</em> set.</li>
<li>Deprecated <a class="reference internal" href="../iris/iris/aux_factory.html#iris.aux_factory.LazyArray" title="iris.aux_factory.LazyArray"><tt class="xref py py-class docutils literal"><span class="pre">iris.aux_factory.LazyArray</span></tt></a></li>
</ul>
</div>
<div class="section" id="documentation-changes">
<h2>Documentation Changes<a class="headerlink" href="#documentation-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>A chapter on <a class="reference internal" href="../userguide/saving_iris_cubes.html"><em>saving iris cubes</em></a> has been
added to the <a class="reference internal" href="../userguide/index.html"><em>user guide</em></a>.</li>
<li>Added script and documentation for building a what&#8217;s new page from developer-submitted contributions.
See <a class="reference internal" href="../developers_guide/documenting/whats_new_contributions.html"><em>Contributing a &#8220;What&#8217;s New&#8221; entry</em></a>.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="1.8.html" title="What’s new in Iris 1.8"
             >next</a> |</li>
        <li class="right" >
          <a href="1.10.html" title="What’s New in Iris 1.10"
             >previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../contents.html">contents</a>|&nbsp;</li>

          <li><a href="index.html" >What&#8217;s new in Iris</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
    <p style="text-align: left; float: left; margin: 0px; padding: 0 0 0 5px;">Documentation licensed under the <a href="http://reference.data.gov.uk/id/open-government-licence" rel="license">Open Government Licence</a></p>
        &copy; <a href="../copyright.html">British Crown Copyright</a> 2010 - 2014, Met Office
    </div>


  </body>
</html>