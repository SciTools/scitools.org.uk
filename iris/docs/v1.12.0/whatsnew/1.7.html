<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>What’s new in Iris 1.7 &mdash; Iris 1.12.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.12.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="Iris 1.12.0 documentation" href="../index.html" />
    <link rel="up" title="What’s new in Iris" href="index.html" />
    <link rel="next" title="What’s new in Iris 1.6" href="1.6.html" />
    <link rel="prev" title="What’s new in Iris 1.8" href="1.8.html" />
 
    <META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
    <META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE"> 

    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <script type="text/javascript" src="http://docs.python.org/2/_static/copybutton.js"></script>

  </head>
  <body>
<div style="background-color: white; text-align: left; padding: 1px 10px 1px 15px">
<p style="margin-left: 15px; font-weight:bolder; letter-spacing:0.1ex;">
<a href="../index.html"><img src="../_static/Iris7_1_trim_100.png" width=101 height=100 border="0" style="vertical-align:middle" alt="Logo"/></a>
<span style="font-size: 400%; vertical-align:middle"> Iris 1.12 </span>
</p>

</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="1.6.html" title="What’s new in Iris 1.6"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="1.8.html" title="What’s new in Iris 1.8"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../contents.html">contents</a>|&nbsp;</li>

          <li><a href="index.html" accesskey="U">What&#8217;s new in Iris</a> &raquo;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">What&#8217;s new in Iris 1.7</a><ul>
<li><a class="reference internal" href="#iris-1-7-features">Iris 1.7 features</a></li>
<li><a class="reference internal" href="#bugs-fixed">Bugs fixed</a><ul>
<li><a class="reference internal" href="#bugs-fixed-in-v1-7-3">Bugs fixed in v1.7.3</a></li>
<li><a class="reference internal" href="#bugs-fixed-in-v1-7-4">Bugs fixed in v1.7.4</a></li>
</ul>
</li>
<li><a class="reference internal" href="#incompatible-changes">Incompatible changes</a></li>
<li><a class="reference internal" href="#deprecations">Deprecations</a></li>
<li><a class="reference internal" href="#documentation-changes">Documentation Changes</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="1.8.html"
                        title="previous chapter">What&#8217;s new in Iris 1.8</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="1.6.html"
                        title="next chapter">What&#8217;s new in Iris 1.6</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/whatsnew/1.7.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="what-s-new-in-iris-1-7">
<h1>What&#8217;s new in Iris 1.7<a class="headerlink" href="#what-s-new-in-iris-1-7" title="Permalink to this headline">¶</a></h1>
<p>This document explains the new/changed features of Iris in version 1.7.
(<a class="reference internal" href="index.html"><em>View all changes</em></a>.)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Release:</th><td class="field-body">1.7.4</td>
</tr>
<tr class="field-even field"><th class="field-name">Date:</th><td class="field-body">15th April 2015</td>
</tr>
</tbody>
</table>
<div class="section" id="iris-1-7-features">
<h2>Iris 1.7 features<a class="headerlink" href="#iris-1-7-features" title="Permalink to this headline">¶</a></h2>
<div class="admonition-showcase-iris-is-making-use-of-biggus admonition" id="showcase">
<p class="first admonition-title">Showcase: Iris is making use of Biggus</p>
<p>Iris is now making extensive use of <a class="reference external" href="https://github.com/SciTools/biggus">Biggus</a>
for virtual arrays and lazy array evaluation. In practice this means that analyses
of cubes with data bigger than the available system memory are now possible.</p>
<p>Other than the improved functionality the changes are mostly
transparent; for example, before the introduction of biggus, MemoryErrors
were likely for very large datasets:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">extremely_large_cube</span><span class="o">.</span><span class="n">collapsed</span><span class="p">(</span><span class="s">&#39;time&#39;</span><span class="p">,</span> <span class="n">iris</span><span class="o">.</span><span class="n">analyis</span><span class="o">.</span><span class="n">MEAN</span><span class="p">)</span>
<span class="go">MemoryError</span>
</pre></div>
</div>
<p>Now, for supported operations, the evaluation is lazy (i.e. it doesn&#8217;t take
place until the actual data is subsequently requested) and can handle data
larger than available system memory:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">extremely_large_cube</span><span class="o">.</span><span class="n">collapsed</span><span class="p">(</span><span class="s">&#39;time&#39;</span><span class="p">,</span> <span class="n">iris</span><span class="o">.</span><span class="n">analyis</span><span class="o">.</span><span class="n">MEAN</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
<span class="go">&lt;class &#39;iris.cube.Cube&#39;&gt;</span>
</pre></div>
</div>
<p class="last">Memory is still a limiting factor if ever the data is desired as a NumPy array
(e.g. via <a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube.data" title="iris.cube.Cube.data"><tt class="xref py py-data docutils literal"><span class="pre">cube.data</span></tt></a>), but additional methods have
been added to the Cube to support querying and subsequently accessing the &#8220;lazy&#8221;
data form (see <a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube.has_lazy_data" title="iris.cube.Cube.has_lazy_data"><tt class="xref py py-meth docutils literal"><span class="pre">has_lazy_data()</span></tt></a> and
<a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube.lazy_data" title="iris.cube.Cube.lazy_data"><tt class="xref py py-meth docutils literal"><span class="pre">lazy_data()</span></tt></a>).</p>
</div>
<div class="admonition-showcase-new-interpolation-and-regridding-api admonition">
<p class="first admonition-title">Showcase: New interpolation and regridding API</p>
<p>New interpolation and regridding interfaces have been added which simplify and
extend the existing functionality.</p>
<p>The interfaces are exposed on the cube in the form of the
<a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube.interpolate" title="iris.cube.Cube.interpolate"><tt class="xref py py-meth docutils literal"><span class="pre">interpolate()</span></tt></a> and <a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube.regrid" title="iris.cube.Cube.regrid"><tt class="xref py py-meth docutils literal"><span class="pre">regrid()</span></tt></a> methods.
Conceptually the signatures of the methods are:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">interpolated_cube</span> <span class="o">=</span> <span class="n">cube</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">interpolation_points</span><span class="p">,</span> <span class="n">interpolation_scheme</span><span class="p">)</span>
</pre></div>
</div>
<p>and:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">regridded_cube</span> <span class="o">=</span> <span class="n">cube</span><span class="o">.</span><span class="n">regrid</span><span class="p">(</span><span class="n">target_grid_cube</span><span class="p">,</span> <span class="n">regridding_scheme</span><span class="p">)</span>
</pre></div>
</div>
<p class="last">Whilst not all schemes have been migrated to the new interface,
<a class="reference internal" href="../iris/iris/analysis.html#iris.analysis.Linear" title="iris.analysis.Linear"><tt class="xref py py-class docutils literal"><span class="pre">iris.analysis.Linear</span></tt></a> defines both linear interpolation and regridding,
and <a class="reference internal" href="../iris/iris/analysis.html#iris.analysis.AreaWeighted" title="iris.analysis.AreaWeighted"><tt class="xref py py-class docutils literal"><span class="pre">iris.analysis.AreaWeighted</span></tt></a> defines an area weighted regridding
scheme.</p>
</div>
<div class="admonition-showcase-merge-and-concatenate-reporting admonition">
<p class="first admonition-title">Showcase: Merge and concatenate reporting</p>
<p>Merge reporting is designed as an aid to the merge processes. Should merging
a <a class="reference internal" href="../iris/iris/cube.html#iris.cube.CubeList" title="iris.cube.CubeList"><tt class="xref py py-class docutils literal"><span class="pre">CubeList</span></tt></a> fail, merge reporting means that a descriptive
error will be raised that details the differences between the cubes in the
<a class="reference internal" href="../iris/iris/cube.html#iris.cube.CubeList" title="iris.cube.CubeList"><tt class="xref py py-class docutils literal"><span class="pre">CubeList</span></tt></a> that prevented the merge from being successful.</p>
<p>A new <a class="reference internal" href="../iris/iris/cube.html#iris.cube.CubeList" title="iris.cube.CubeList"><tt class="xref py py-class docutils literal"><span class="pre">CubeList</span></tt></a> method, called
<a class="reference internal" href="../iris/iris/cube.html#iris.cube.CubeList.merge_cube" title="iris.cube.CubeList.merge_cube"><tt class="xref py py-meth docutils literal"><span class="pre">merge_cube()</span></tt></a>, has been introduced. Calling it on a
<a class="reference internal" href="../iris/iris/cube.html#iris.cube.CubeList" title="iris.cube.CubeList"><tt class="xref py py-class docutils literal"><span class="pre">CubeList</span></tt></a> will result in a single merged
<a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube" title="iris.cube.Cube"><tt class="xref py py-class docutils literal"><span class="pre">Cube</span></tt></a> being returned or an error message being raised
that describes why the merge process failed.</p>
<p>The following example demonstrates the error message that describes a merge
failure caused by cubes having differing attributes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cube_list</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">cube</span><span class="o">.</span><span class="n">CubeList</span><span class="p">((</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cube_list</span><span class="o">.</span><span class="n">merge_cube</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
    <span class="k">raise</span> <span class="n">iris</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">MergeError</span><span class="p">(</span><span class="n">msgs</span><span class="p">)</span>
<span class="gr">iris.exceptions.MergeError</span>: <span class="n">failed to merge into a single cube.</span>
<span class="go">  cube.attributes keys differ: &#39;foo&#39;</span>
</pre></div>
</div>
<p>The naming of this new method mirrors that of Iris load functions, where
one would always expect a <a class="reference internal" href="../iris/iris/cube.html#iris.cube.CubeList" title="iris.cube.CubeList"><tt class="xref py py-class docutils literal"><span class="pre">CubeList</span></tt></a> from <a class="reference internal" href="../iris/iris.html#iris.load" title="iris.load"><tt class="xref py py-func docutils literal"><span class="pre">iris.load()</span></tt></a>
and a <a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube" title="iris.cube.Cube"><tt class="xref py py-class docutils literal"><span class="pre">Cube</span></tt></a> from <a class="reference internal" href="../iris/iris.html#iris.load_cube" title="iris.load_cube"><tt class="xref py py-func docutils literal"><span class="pre">iris.load_cube()</span></tt></a>.</p>
<p class="last">Concatenate reporting is the equivalent process for concatenating a
<a class="reference internal" href="../iris/iris/cube.html#iris.cube.CubeList" title="iris.cube.CubeList"><tt class="xref py py-class docutils literal"><span class="pre">CubeList</span></tt></a>. It is accessed through the method 
<a class="reference internal" href="../iris/iris/cube.html#iris.cube.CubeList.concatenate_cube" title="iris.cube.CubeList.concatenate_cube"><tt class="xref py py-meth docutils literal"><span class="pre">concatenate_cube()</span></tt></a>, which will return a single
concatenated cube or produce an error message that describes why the
concatenate process failed.</p>
</div>
<div class="admonition-showcase-cube-broadcasting admonition">
<p class="first admonition-title">Showcase: Cube broadcasting</p>
<p>When performing cube arithmetic, cubes now follow similar broadcasting rules
as NumPy arrays.</p>
<p>However, the additional richness of Iris coordinate meta-data provides an
enhanced capability beyond the basic broadcasting behaviour of NumPy.</p>
<p>This means that when performing cube arithmetic, the dimensionality and shape of
cubes no longer need to match. For example, if the dimensionality of a cube is
reduced by collapsing, then the result can be used to subtract from the original
cube to calculate an anomaly:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">time_mean</span> <span class="o">=</span> <span class="n">original_cube</span><span class="o">.</span><span class="n">collapsed</span><span class="p">(</span><span class="s">&#39;time&#39;</span><span class="p">,</span> <span class="n">iris</span><span class="o">.</span><span class="n">analysis</span><span class="o">.</span><span class="n">MEAN</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mean_anomaly</span> <span class="o">=</span> <span class="n">original_cube</span> <span class="o">-</span> <span class="n">time_mean</span>
</pre></div>
</div>
<p>Given both broadcasting <strong>and</strong> coordinate meta-data, Iris can now perform
arithmetic with cubes that have similar but not identical shape:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">similar_cube</span> <span class="o">=</span> <span class="n">original_cube</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">similar_cube</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zero_cube</span> <span class="o">=</span> <span class="n">original_cube</span> <span class="o">-</span> <span class="n">similar_cube</span>
</pre></div>
</div>
</div>
<ul class="simple">
<li>Merge reporting that raises a descriptive error if the merge process fails.</li>
<li>Linear interpolation and regridding now make use of SciPy&#8217;s RegularGridInterpolator
for much faster linear interpolation.</li>
<li>NAME file loading now handles the &#8220;no time averaging&#8221; column and translates
height/altitude above ground/sea-level columns into appropriate coordinate metadata.</li>
<li>The NetCDF saver has been extended to allow saving of cubes with hybrid pressure
auxiliary factories.</li>
<li>PP/FF loading supports LBLEV of 9999.</li>
<li>Extended GRIB1 loading to support data on hybrid pressure levels.</li>
<li><a class="reference internal" href="../iris/iris/coord_categorisation.html#iris.coord_categorisation.add_day_of_year" title="iris.coord_categorisation.add_day_of_year"><tt class="xref py py-func docutils literal"><span class="pre">iris.coord_categorisation.add_day_of_year()</span></tt></a> can be used to add categorised
day of year coordinates based on time coordinates with non-Gregorian calendars.</li>
<li>Support for loading data on reduced grids from GRIB files in raw form without
automatically interpolating to a regular grid.</li>
<li>The coordinate systems <a class="reference internal" href="../iris/iris/coord_systems.html#iris.coord_systems.Orthographic" title="iris.coord_systems.Orthographic"><tt class="xref py py-class docutils literal"><span class="pre">iris.coord_systems.Orthographic</span></tt></a> and
<a class="reference internal" href="../iris/iris/coord_systems.html#iris.coord_systems.VerticalPerspective" title="iris.coord_systems.VerticalPerspective"><tt class="xref py py-class docutils literal"><span class="pre">iris.coord_systems.VerticalPerspective</span></tt></a> (for imagery from geostationary
satellites) have been added.</li>
<li>Extended NetCDF loading to support the &#8220;ocean sigma over z&#8221; auxiliary coordinate
factory.</li>
<li>Support added for loading CF-NetCDF data with bounds arrays that are missing a
vertex dimension.</li>
<li><a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube.rolling_window" title="iris.cube.Cube.rolling_window"><tt class="xref py py-meth docutils literal"><span class="pre">iris.cube.Cube.rolling_window()</span></tt></a> can now be used with string-based
<a class="reference internal" href="../iris/iris/coords.html#iris.coords.AuxCoord" title="iris.coords.AuxCoord"><tt class="xref py py-class docutils literal"><span class="pre">iris.coords.AuxCoord</span></tt></a> instances.</li>
<li>Loading of PP and FF files has been optimised through deferring creation of
PPField attributes.</li>
<li>Automatic association of a coordinate&#8217;s CF formula terms variable with the
data variable associated with that coordinate.</li>
<li>PP loading translates cross-section height into a dimensional auxiliary coordinate.</li>
<li>String auxiliary coordinates can now be plotted with the Iris plotting wrappers.</li>
<li><a class="reference internal" href="../iris/iris/analysis/geometry.html#iris.analysis.geometry.geometry_area_weights" title="iris.analysis.geometry.geometry_area_weights"><tt class="xref py py-func docutils literal"><span class="pre">iris.analysis.geometry.geometry_area_weights()</span></tt></a> now allows for the calculation of
normalized cell weights.</li>
<li>Many new translations between the CF spec and STASH codes or GRIB2 parameter codes.</li>
<li>PP save rules add the data&#8217;s UM Version to the attributes of the  saved file
when appropriate.</li>
<li>NetCDF reference surface variable promotion available through the
<a class="reference internal" href="../iris/iris.html#iris.FUTURE" title="iris.FUTURE"><tt class="xref py py-class docutils literal"><span class="pre">iris.FUTURE</span></tt></a> mechanism.</li>
<li>A speed improvement in calculation of <a class="reference internal" href="../iris/iris/analysis/geometry.html#iris.analysis.geometry.geometry_area_weights" title="iris.analysis.geometry.geometry_area_weights"><tt class="xref py py-func docutils literal"><span class="pre">iris.analysis.geometry.geometry_area_weights()</span></tt></a>.</li>
<li>The mdtol keyword was added to area-weighted regridding to allow control of the
tolerance for missing data. For a further description of this concept, see
<a class="reference internal" href="../iris/iris/analysis.html#iris.analysis.AreaWeighted" title="iris.analysis.AreaWeighted"><tt class="xref py py-class docutils literal"><span class="pre">iris.analysis.AreaWeighted</span></tt></a>.</li>
<li>Handling for patching of the CF conventions global attribute via a defined
cf_patch_conventions function.</li>
<li>Deferred GRIB data loading has been introduced for reduced memory consumption when
loading GRIB files.</li>
<li>Concatenate reporting that raises a descriptive error if the concatenation
process fails.</li>
<li>A speed improvement when loading PP or FF data and constraining on STASH code.</li>
</ul>
</div>
<div class="section" id="bugs-fixed">
<h2>Bugs fixed<a class="headerlink" href="#bugs-fixed" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Data containing more than one reference cube for constructing hybrid height
coordinates can now be loaded.</li>
<li>Removed cause of increased margin of error when interpolating.</li>
<li>Changed floating-point precision used when wrapping points for interpolation.</li>
<li>Mappables that can be used to generate colorbars are now returned by Iris
plotting wrappers.</li>
<li>NetCDF load ignores over-specified formula terms on bounded dimensionless vertical
coordinates.</li>
<li>Auxiliary coordinate factory loading now correctly interprets formula term
varibles for &#8220;atmosphere hybrid sigma pressure&#8221; coordinate data.</li>
<li>Corrected comparison of NumPy NaN values in cube merge process.</li>
<li>Fixes for <a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube.intersection" title="iris.cube.Cube.intersection"><tt class="xref py py-meth docutils literal"><span class="pre">iris.cube.Cube.intersection()</span></tt></a> to correct calculating the intersection
of a cube with split bounds, handling of circular coordinates, handling of
monotonically descending bounded coordinats and for finding a wrapped two-point
result and longitude tolerances.</li>
<li>A bug affecting <a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube.extract" title="iris.cube.Cube.extract"><tt class="xref py py-meth docutils literal"><span class="pre">iris.cube.Cube.extract()</span></tt></a> and <a class="reference internal" href="../iris/iris/cube.html#iris.cube.CubeList.extract" title="iris.cube.CubeList.extract"><tt class="xref py py-meth docutils literal"><span class="pre">iris.cube.CubeList.extract()</span></tt></a>
that led to unexpected behaviour when operating on scalar cubes has been fixed.</li>
<li>Aggregate_by may now be passed single-value coordinates.</li>
<li>Making a copy of a <a class="reference internal" href="../iris/iris/coords.html#iris.coords.DimCoord" title="iris.coords.DimCoord"><tt class="xref py py-class docutils literal"><span class="pre">iris.coords.DimCoord</span></tt></a> no longer results in the writeable
flag on the copied points and bounds arrays being set to True.</li>
<li>Can now save to PP a cube that has vertical levels but no orography.</li>
<li>Fix a bug causing surface altitude and surface pressure fields to not appear
in cubes loaded with a STASH constraint.</li>
<li>Fixed support for <a class="reference internal" href="../iris/iris/fileformats/pp.html#iris.fileformats.pp.STASH" title="iris.fileformats.pp.STASH"><tt class="xref py py-class docutils literal"><span class="pre">iris.fileformats.pp.STASH</span></tt></a> objects in STASH constraints.</li>
<li>A fix to avoid a problem where cube attribute names clash with NetCDF reserved attribute names.</li>
<li>A fix to allow <a class="reference internal" href="../iris/iris/cube.html#iris.cube.CubeList.concatenate" title="iris.cube.CubeList.concatenate"><tt class="xref py py-meth docutils literal"><span class="pre">iris.cube.CubeList.concatenate()</span></tt></a> to deal with descending coordinate order.</li>
<li>Add missing NetCDF attribute <cite>varname</cite> when constructing a new <a class="reference internal" href="../iris/iris/coords.html#iris.coords.AuxCoord" title="iris.coords.AuxCoord"><tt class="xref py py-class docutils literal"><span class="pre">iris.coords.AuxCoord</span></tt></a>.</li>
<li>The datatype of time arrays converted with <a class="reference internal" href="../iris/iris/util.html#iris.util.unify_time_units" title="iris.util.unify_time_units"><tt class="xref py py-func docutils literal"><span class="pre">iris.util.unify_time_units()</span></tt></a> is now preserved.</li>
</ul>
<div class="section" id="bugs-fixed-in-v1-7-3">
<h3>Bugs fixed in v1.7.3<a class="headerlink" href="#bugs-fixed-in-v1-7-3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Scalar dimension coordinates can now be concatenated with <a class="reference internal" href="../iris/iris/cube.html#iris.cube.CubeList.concatenate" title="iris.cube.CubeList.concatenate"><tt class="xref py py-meth docutils literal"><span class="pre">iris.cube.CubeList.concatenate()</span></tt></a>.</li>
<li>Arbitrary names can no longer be set for elements of a <tt class="xref py py-class docutils literal"><span class="pre">iris.fileformats.pp.SplittableInt</span></tt>.</li>
<li>Cubes that contain a pseudo-level coordinate can now be saved to PP.</li>
<li>Fixed a bug in the FieldsFile loader that prevented it always loading all available fields.</li>
</ul>
</div>
<div class="section" id="bugs-fixed-in-v1-7-4">
<h3>Bugs fixed in v1.7.4<a class="headerlink" href="#bugs-fixed-in-v1-7-4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><tt class="xref py py-meth docutils literal"><span class="pre">Coord.guess_bounds()</span></tt> can now deal with circular coordinates.</li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">Coord.nearest_neighbour_index()</span></tt> can now work with descending bounds.</li>
<li>Passing <cite>weights</cite> to <tt class="xref py py-meth docutils literal"><span class="pre">Cube.rolling_window()</span></tt> no longer prevents other
keyword arguments from being passed to the aggregator.</li>
<li>Several minor fixes to allow use of Iris on Windows.</li>
<li>Made use of the new standard_parallels keyword in Cartopy&#8217;s LambertConformal
projection (Cartopy v0.12). Older versions of Iris will not be able to
create LambertConformal coordinate systems with Cartopy &gt;= 0.12.</li>
</ul>
</div>
</div>
<div class="section" id="incompatible-changes">
<h2>Incompatible changes<a class="headerlink" href="#incompatible-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Saving a cube with a STASH attribute to NetCDF now produces a variable
with an attribute of &#8220;um_stash_source&#8221; rather than &#8220;ukmo__um_stash_source&#8221;.</li>
<li>Cubes saved to NetCDF with a coordinate system referencing a spherical ellipsoid
now result in the grid mapping variable containing only the &#8220;earth_radius&#8221; attribute,
rather than the &#8220;semi_major_axis&#8221; and &#8220;semi_minor_axis&#8221;.</li>
<li>Collapsing a cube over all of its dimensions now results in a scalar cube rather
than a 1d cube.</li>
</ul>
</div>
<div class="section" id="deprecations">
<h2>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="../iris/iris/util.html#iris.util.ensure_array" title="iris.util.ensure_array"><tt class="xref py py-func docutils literal"><span class="pre">iris.util.ensure_array()</span></tt></a> has been deprecated.</li>
<li>Deprecated the <a class="reference internal" href="../iris/iris/fileformats/pp.html#iris.fileformats.pp.reset_load_rules" title="iris.fileformats.pp.reset_load_rules"><tt class="xref py py-func docutils literal"><span class="pre">iris.fileformats.pp.reset_load_rules()</span></tt></a> and
<a class="reference internal" href="../iris/iris/fileformats/grib.html#iris.fileformats.grib.reset_load_rules" title="iris.fileformats.grib.reset_load_rules"><tt class="xref py py-func docutils literal"><span class="pre">iris.fileformats.grib.reset_load_rules()</span></tt></a> functions.</li>
<li>Matplotlib is no longer a core Iris dependency.</li>
</ul>
</div>
<div class="section" id="documentation-changes">
<h2>Documentation Changes<a class="headerlink" href="#documentation-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>New sections on <a class="reference internal" href="../userguide/cube_maths.html#cube-maths-anomaly"><em>cube broadcasting</em></a> and
<a class="reference internal" href="../userguide/interpolation_and_regridding.html"><em>regridding and interpolation</em></a>
have been added to the <a class="reference internal" href="../userguide/index.html"><em>user guide</em></a>.</li>
<li>An example demonstrating custom log-scale colouring has been added.
See <a class="reference internal" href="../examples/General/anomaly_log_colouring.html#general-anomaly-log-colouring"><em>Colouring anomaly data with logarithmic scaling</em></a>.</li>
<li>An example demonstrating the creation of a custom
<a class="reference internal" href="../iris/iris/analysis.html#iris.analysis.Aggregator" title="iris.analysis.Aggregator"><tt class="xref py py-class docutils literal"><span class="pre">iris.analysis.Aggregator</span></tt></a> has been added.
See <a class="reference internal" href="../examples/General/custom_aggregation.html#general-custom-aggregation"><em>Calculating a custom statistic</em></a>.</li>
<li>An example of reprojecting data from 2D auxiliary spatial coordinates
(such as that from the ORCA grid) has been added. See <a class="reference internal" href="../examples/General/orca_projection.html#general-orca-projection"><em>Tri-Polar Grid Projected Plotting</em></a>.</li>
<li>A clarification of the behaviour of <a class="reference internal" href="../iris/iris/analysis/calculus.html#iris.analysis.calculus.differentiate" title="iris.analysis.calculus.differentiate"><tt class="xref py py-func docutils literal"><span class="pre">iris.analysis.calculus.differentiate()</span></tt></a>.</li>
<li>A new <a class="reference internal" href="../whitepapers/index.html"><em>&#8220;whitepapers&#8221;</em></a> section has been added to the documentation along
with the addition of a paper providing an <a class="reference internal" href="../whitepapers/um_files_loading.html"><em>overview of the load process for UM-like
fileformats (e.g. PP and Fieldsfile)</em></a>.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="1.6.html" title="What’s new in Iris 1.6"
             >next</a> |</li>
        <li class="right" >
          <a href="1.8.html" title="What’s new in Iris 1.8"
             >previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../contents.html">contents</a>|&nbsp;</li>

          <li><a href="index.html" >What&#8217;s new in Iris</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
    <p style="text-align: left; float: left; margin: 0px; padding: 0 0 0 5px;">Documentation licensed under the <a href="http://reference.data.gov.uk/id/open-government-licence" rel="license">Open Government Licence</a></p>
        &copy; <a href="../copyright.html">British Crown Copyright</a> 2010 - 2017, Met Office
    </div>


  <!-- Include a version switcher to easily move between the documentation of different versions -->
  <script type=text/javascript src=/iris/docs/version_switch.js></script>
  </body>
</html>