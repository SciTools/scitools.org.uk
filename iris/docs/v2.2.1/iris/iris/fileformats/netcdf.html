
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>iris.fileformats.netcdf &#8212; Iris 2.2.1dev0 documentation</title>
    <link rel="stylesheet" href="../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="copyright" title="Copyright" href="../../../copyright.html" />
    <link rel="next" title="iris.fileformats.nimrod" href="nimrod.html" />
    <link rel="prev" title="iris.fileformats.name_loaders" href="name_loaders.html" />
 
    <META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
    <META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE"> 

    <link rel="stylesheet" href="../../../_static/style.css" type="text/css" />
    <script type="text/javascript" src="https://docs.python.org/2/_static/copybutton.js"></script>

    <link rel="icon" type="image/png" sizes="32x32" href="../../../_static/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../_static/favicon-16x16.png">

    <link href="https://fonts.googleapis.com/css?family=Alike|Noto+Sans" rel="stylesheet">

  </head><body>

<a href="https://github.com/SciTools/iris">
    <img class="github-forkme" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
         alt="Fork Iris on GitHub" />
</a>


<div class="header-content">
    <a href="../../../index.html">
        <img src="../../../_static/Iris7_1_trim_100.png" alt="Iris logo" />
    </a>
    <div class="strapline">
      <h1>
          Iris <span class="version">v2.2</span>
      </h1>
      <p>
         A powerful, format-agnostic, community-driven Python library for analysing and
         visualising Earth science data.
      </p>
    </div>
</div>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="nimrod.html" title="iris.fileformats.nimrod"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="name_loaders.html" title="iris.fileformats.name_loaders"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../../../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../../../contents.html">contents</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../../iris.html" >Iris reference documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../fileformats.html" accesskey="U">iris.fileformats</a> &#187;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="name_loaders.html"
                        title="previous chapter">iris.fileformats.name_loaders</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="nimrod.html"
                        title="next chapter">iris.fileformats.nimrod</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/iris/iris/fileformats/netcdf.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="iris-fileformats-netcdf">
<span id="id1"></span><h1>iris.fileformats.netcdf<a class="headerlink" href="#iris-fileformats-netcdf" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-iris.fileformats.netcdf"></span><p>Module to support the loading of a NetCDF file into an Iris cube.</p>
<p>See also: <a class="reference external" href="http://code.google.com/p/netcdf4-python/">netCDF4 python</a>.</p>
<p>Also refer to document ‘NetCDF Climate and Forecast (CF) Metadata Conventions’,
Version 1.4, 27 February 2009.</p>
<p>In this module:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#iris.fileformats.netcdf.load_cubes" title="iris.fileformats.netcdf.load_cubes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_cubes</span></code></a></p></li>
<li><p><a class="reference internal" href="#iris.fileformats.netcdf.parse_cell_methods" title="iris.fileformats.netcdf.parse_cell_methods"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse_cell_methods</span></code></a></p></li>
<li><p><a class="reference internal" href="#iris.fileformats.netcdf.save" title="iris.fileformats.netcdf.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a></p></li>
<li><p><a class="reference internal" href="#iris.fileformats.netcdf.CFNameCoordMap" title="iris.fileformats.netcdf.CFNameCoordMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CFNameCoordMap</span></code></a></p></li>
<li><p><a class="reference internal" href="#iris.fileformats.netcdf.NetCDFDataProxy" title="iris.fileformats.netcdf.NetCDFDataProxy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NetCDFDataProxy</span></code></a></p></li>
<li><p><a class="reference internal" href="#iris.fileformats.netcdf.Saver" title="iris.fileformats.netcdf.Saver"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Saver</span></code></a></p></li>
<li><p><a class="reference internal" href="#iris.fileformats.netcdf.UnknownCellMethodWarning" title="iris.fileformats.netcdf.UnknownCellMethodWarning"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnknownCellMethodWarning</span></code></a></p></li>
</ul>
</div></blockquote>
<dl class="function">
<dt id="iris.fileformats.netcdf.load_cubes">
<code class="sig-prename descclassname">iris.fileformats.netcdf.</code><code class="sig-name descname">load_cubes</code><span class="sig-paren">(</span><em class="sig-param">filenames</em>, <em class="sig-param">callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.load_cubes" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads cubes from a list of NetCDF filenames/URLs.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="simple">
<dt>filenames (string/list):</dt><dd><p>One or more NetCDF filenames/DAP URLs to load from.</p>
</dd>
</dl>
</li>
</ul>
<p>Kwargs:</p>
<ul class="simple">
<li><dl class="simple">
<dt>callback (callable function):</dt><dd><p>Function which can be passed on to <a class="reference internal" href="../io.html#iris.io.run_callback" title="iris.io.run_callback"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.io.run_callback()</span></code></a>.</p>
</dd>
</dl>
</li>
</ul>
<dl class="simple">
<dt>Returns:</dt><dd><p>Generator of loaded NetCDF <code class="xref py py-class docutils literal notranslate"><span class="pre">iris.cubes.Cube</span></code>.</p>
</dd>
</dl>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.fileformats.netcdf.parse_cell_methods">
<code class="sig-prename descclassname">iris.fileformats.netcdf.</code><code class="sig-name descname">parse_cell_methods</code><span class="sig-paren">(</span><em class="sig-param">nc_cell_methods</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.parse_cell_methods" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a CF cell_methods attribute string into a tuple of zero or
more CellMethod instances.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="simple">
<dt>nc_cell_methods (str):</dt><dd><p>The value of the cell methods attribute to be parsed.</p>
</dd>
</dl>
</li>
</ul>
<p>Returns:</p>
<ul class="simple">
<li><dl class="simple">
<dt>cell_methods</dt><dd><p>An iterable of <a class="reference internal" href="../coords.html#iris.coords.CellMethod" title="iris.coords.CellMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.coords.CellMethod</span></code></a>.</p>
</dd>
</dl>
</li>
</ul>
<p>Multiple coordinates, intervals and comments are supported.
If a method has a non-standard name a warning will be issued, but the
results are not affected.</p>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.fileformats.netcdf.save">
<code class="sig-prename descclassname">iris.fileformats.netcdf.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">cube</em>, <em class="sig-param">filename</em>, <em class="sig-param">netcdf_format='NETCDF4'</em>, <em class="sig-param">local_keys=None</em>, <em class="sig-param">unlimited_dimensions=None</em>, <em class="sig-param">zlib=False</em>, <em class="sig-param">complevel=4</em>, <em class="sig-param">shuffle=True</em>, <em class="sig-param">fletcher32=False</em>, <em class="sig-param">contiguous=False</em>, <em class="sig-param">chunksizes=None</em>, <em class="sig-param">endian='native'</em>, <em class="sig-param">least_significant_digit=None</em>, <em class="sig-param">packing=None</em>, <em class="sig-param">fill_value=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save cube(s) to a netCDF file, given the cube and the filename.</p>
<ul class="simple">
<li><p>Iris will write CF 1.5 compliant NetCDF files.</p></li>
<li><p>The attributes dictionaries on each cube in the saved cube list
will be compared and common attributes saved as NetCDF global
attributes where appropriate.</p></li>
<li><p>Keyword arguments specifying how to save the data are applied
to each cube. To use different settings for different cubes, use
the NetCDF Context manager (<a class="reference internal" href="#iris.fileformats.netcdf.Saver" title="iris.fileformats.netcdf.Saver"><code class="xref py py-class docutils literal notranslate"><span class="pre">Saver</span></code></a>) directly.</p></li>
<li><p>The save process will stream the data payload to the file using dask,
enabling large data payloads to be saved and maintaining the ‘lazy’
status of the cube’s data payload, unless the netcdf_format is explicitly
specified to be ‘NETCDF3’ or ‘NETCDF3_CLASSIC’.</p></li>
</ul>
<p>Args:</p>
<ul class="simple">
<li><dl class="simple">
<dt>cube (<a class="reference internal" href="../cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.cube.Cube</span></code></a> or <a class="reference internal" href="../cube.html#iris.cube.CubeList" title="iris.cube.CubeList"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.cube.CubeList</span></code></a>):</dt><dd><p>A <a class="reference internal" href="../cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.cube.Cube</span></code></a>, <a class="reference internal" href="../cube.html#iris.cube.CubeList" title="iris.cube.CubeList"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.cube.CubeList</span></code></a> or other
iterable of cubes to be saved to a netCDF file.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>filename (string):</dt><dd><p>Name of the netCDF file to save the cube(s).</p>
</dd>
</dl>
</li>
</ul>
<p>Kwargs:</p>
<ul>
<li><dl class="simple">
<dt>netcdf_format (string):</dt><dd><p>Underlying netCDF file format, one of ‘NETCDF4’, ‘NETCDF4_CLASSIC’,
‘NETCDF3_CLASSIC’ or ‘NETCDF3_64BIT’. Default is ‘NETCDF4’ format.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>local_keys (iterable of strings):</dt><dd><p>An interable of cube attribute keys. Any cube attributes with
matching keys will become attributes on the data variable rather
than global attributes.</p>
</dd>
</dl>
</li>
<li><p>unlimited_dimensions (iterable of strings and/or
<a class="reference internal" href="../coords.html#iris.coords.Coord" title="iris.coords.Coord"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.coords.Coord</span></code></a> objects):</p>
<blockquote>
<div><p>List of coordinate names (or coordinate objects) corresponding
to coordinate dimensions of <cite>cube</cite> to save with the NetCDF dimension
variable length ‘UNLIMITED’. By default, no unlimited dimensions are
saved. Only the ‘NETCDF4’ format supports multiple ‘UNLIMITED’
dimensions.</p>
</div></blockquote>
</li>
<li><dl class="simple">
<dt>zlib (bool):</dt><dd><p>If <cite>True</cite>, the data will be compressed in the netCDF file using gzip
compression (default <cite>False</cite>).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>complevel (int):</dt><dd><p>An integer between 1 and 9 describing the level of compression desired
(default 4). Ignored if <cite>zlib=False</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>shuffle (bool):</dt><dd><p>If <cite>True</cite>, the HDF5 shuffle filter will be applied before compressing
the data (default <cite>True</cite>). This significantly improves compression.
Ignored if <cite>zlib=False</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>fletcher32 (bool):</dt><dd><p>If <cite>True</cite>, the Fletcher32 HDF5 checksum algorithm is activated to
detect errors. Default <cite>False</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>contiguous (bool):</dt><dd><p>If <cite>True</cite>, the variable data is stored contiguously on disk. Default
<cite>False</cite>. Setting to <cite>True</cite> for a variable with an unlimited dimension
will trigger an error.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>chunksizes (tuple of int):</dt><dd><p>Used to manually specify the HDF5 chunksizes for each dimension of the
variable. A detailed discussion of HDF chunking and I/O performance is
available here: <a class="reference external" href="http://www.hdfgroup.org/HDF5/doc/H5.user/Chunking.html">http://www.hdfgroup.org/HDF5/doc/H5.user/Chunking.html</a>.
Basically, you want the chunk size for each dimension to match as
closely as possible the size of the data block that users will read
from the file. <cite>chunksizes</cite> cannot be set if <cite>contiguous=True</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>endian (string):</dt><dd><p>Used to control whether the data is stored in little or big endian
format on disk. Possible values are ‘little’, ‘big’ or ‘native’
(default). The library will automatically handle endian conversions
when the data is read, but if the data is always going to be read on a
computer with the opposite format as the one used to create the file,
there may be some performance advantage to be gained by setting the
endian-ness.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>least_significant_digit (int):</dt><dd><p>If <cite>least_significant_digit</cite> is specified, variable data will be
truncated (quantized). In conjunction with <cite>zlib=True</cite> this produces
‘lossy’, but significantly more efficient compression. For example, if
<cite>least_significant_digit=1</cite>, data will be quantized using
<cite>numpy.around(scale*data)/scale</cite>, where <cite>scale = 2**bits</cite>, and <cite>bits</cite>
is determined so that a precision of 0.1 is retained (in this case
<cite>bits=4</cite>). From
<a class="reference external" href="http://www.esrl.noaa.gov/psd/data/gridded/conventions/cdc_netcdf_standard.shtml">http://www.esrl.noaa.gov/psd/data/gridded/conventions/cdc_netcdf_standard.shtml</a>:
“least_significant_digit – power of ten of the smallest decimal place
in unpacked data that is a reliable value”. Default is <cite>None</cite>, or no
quantization, or ‘lossless’ compression.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>packing (type or string or dict or list): A numpy integer datatype</dt><dd><p>(signed or unsigned) or a string that describes a numpy integer dtype
(i.e. ‘i2’, ‘short’, ‘u4’) or a dict of packing parameters as described
below or an iterable of such types, strings, or dicts.
This provides support for netCDF data packing as described in
<a class="reference external" href="http://www.unidata.ucar.edu/software/netcdf/docs/BestPractices.html#bp_Packed-Data-Values">http://www.unidata.ucar.edu/software/netcdf/docs/BestPractices.html#bp_Packed-Data-Values</a>
If this argument is a type (or type string), appropriate values of
scale_factor and add_offset will be automatically calculated based
on <cite>cube.data</cite> and possible masking. For more control, pass a dict with
one or more of the following keys: <cite>dtype</cite> (required), <cite>scale_factor</cite>
and <cite>add_offset</cite>. Note that automatic calculation of packing parameters
will trigger loading of lazy data; set them manually using a dict to
avoid this. The default is <cite>None</cite>, in which case the datatype is
determined from the cube and no packing will occur. If this argument is
a list it must have the same number of elements as <cite>cube</cite> if <cite>cube</cite> is
a <cite>:class:`iris.cube.CubeList</cite>, or one element, and each element of
this argument will be applied to each cube separately.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>fill_value (numeric or list):</dt><dd><p>The value to use for the <cite>_FillValue</cite> attribute on the netCDF variable.
If <cite>packing</cite> is specified the value of <cite>fill_value</cite> should be in the
domain of the packed data. If this argument is a list it must have the
same number of elements as <cite>cube</cite> if <cite>cube</cite> is a
<cite>:class:`iris.cube.CubeList</cite>, or a single element, and each element of
this argument will be applied to each cube separately.</p>
</dd>
</dl>
</li>
</ul>
<dl class="simple">
<dt>Returns:</dt><dd><p>None.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <cite>zlib</cite>, <cite>complevel</cite>, <cite>shuffle</cite>, <cite>fletcher32</cite>, <cite>contiguous</cite>,
<cite>chunksizes</cite> and <cite>endian</cite> keywords are silently ignored for netCDF 3
files that do not use HDF5.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>NetCDF Context manager (<a class="reference internal" href="#iris.fileformats.netcdf.Saver" title="iris.fileformats.netcdf.Saver"><code class="xref py py-class docutils literal notranslate"><span class="pre">Saver</span></code></a>).</p>
</div>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><p>Provide a simple CF name to CF coordinate mapping.</p>
<blockquote>
<div><dl class="class">
<dt id="iris.fileformats.netcdf.CFNameCoordMap">
<em class="property">class </em><code class="sig-prename descclassname">iris.fileformats.netcdf.</code><code class="sig-name descname">CFNameCoordMap</code><a class="headerlink" href="#iris.fileformats.netcdf.CFNameCoordMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Provide a simple CF name to CF coordinate mapping.</p>
<dl class="method">
<dt id="iris.fileformats.netcdf.CFNameCoordMap.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">coord</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.CFNameCoordMap.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given name and coordinate pair to the mapping.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="simple">
<dt>name:</dt><dd><p>CF name of the associated coordinate.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>coord:</dt><dd><p>The coordinate of the associated CF name.</p>
</dd>
</dl>
</li>
</ul>
<dl class="simple">
<dt>Returns:</dt><dd><p>None.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="iris.fileformats.netcdf.CFNameCoordMap.coord">
<code class="sig-name descname">coord</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.CFNameCoordMap.coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coordinate, given a CF name.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="simple">
<dt>name:</dt><dd><p>CF name of the associated coordinate.</p>
</dd>
</dl>
</li>
</ul>
<dl class="simple">
<dt>Returns:</dt><dd><p>CF name.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="iris.fileformats.netcdf.CFNameCoordMap.name">
<code class="sig-name descname">name</code><span class="sig-paren">(</span><em class="sig-param">coord</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.CFNameCoordMap.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the CF name, given a coordinate</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="simple">
<dt>coord:</dt><dd><p>The coordinate of the associated CF name.</p>
</dd>
</dl>
</li>
</ul>
<dl class="simple">
<dt>Returns:</dt><dd><p>Coordinate.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="iris.fileformats.netcdf.CFNameCoordMap.coords">
<em class="property">property </em><code class="sig-name descname">coords</code><a class="headerlink" href="#iris.fileformats.netcdf.CFNameCoordMap.coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all the coordinates.</p>
</dd></dl>

<dl class="method">
<dt id="iris.fileformats.netcdf.CFNameCoordMap.names">
<em class="property">property </em><code class="sig-name descname">names</code><a class="headerlink" href="#iris.fileformats.netcdf.CFNameCoordMap.names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all the CF names.</p>
</dd></dl>

</dd></dl>

</div></blockquote>
<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><p>A reference to the data payload of a single NetCDF file variable.</p>
<blockquote>
<div><dl class="class">
<dt id="iris.fileformats.netcdf.NetCDFDataProxy">
<em class="property">class </em><code class="sig-prename descclassname">iris.fileformats.netcdf.</code><code class="sig-name descname">NetCDFDataProxy</code><span class="sig-paren">(</span><em class="sig-param">shape</em>, <em class="sig-param">dtype</em>, <em class="sig-param">path</em>, <em class="sig-param">variable_name</em>, <em class="sig-param">fill_value</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.NetCDFDataProxy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A reference to the data payload of a single NetCDF file variable.</p>
<dl class="attribute">
<dt id="iris.fileformats.netcdf.NetCDFDataProxy.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#iris.fileformats.netcdf.NetCDFDataProxy.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.netcdf.NetCDFDataProxy.fill_value">
<code class="sig-name descname">fill_value</code><a class="headerlink" href="#iris.fileformats.netcdf.NetCDFDataProxy.fill_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="iris.fileformats.netcdf.NetCDFDataProxy.ndim">
<em class="property">property </em><code class="sig-name descname">ndim</code><a class="headerlink" href="#iris.fileformats.netcdf.NetCDFDataProxy.ndim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.netcdf.NetCDFDataProxy.path">
<code class="sig-name descname">path</code><a class="headerlink" href="#iris.fileformats.netcdf.NetCDFDataProxy.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.netcdf.NetCDFDataProxy.shape">
<code class="sig-name descname">shape</code><a class="headerlink" href="#iris.fileformats.netcdf.NetCDFDataProxy.shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.netcdf.NetCDFDataProxy.variable_name">
<code class="sig-name descname">variable_name</code><a class="headerlink" href="#iris.fileformats.netcdf.NetCDFDataProxy.variable_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div></blockquote>
<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><p>A manager for saving netcdf files.</p>
<blockquote>
<div><dl class="class">
<dt id="iris.fileformats.netcdf.Saver">
<em class="property">class </em><code class="sig-prename descclassname">iris.fileformats.netcdf.</code><code class="sig-name descname">Saver</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">netcdf_format</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.Saver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A manager for saving netcdf files.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="simple">
<dt>filename (string):</dt><dd><p>Name of the netCDF file to save the cube.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>netcdf_format (string):</dt><dd><p>Underlying netCDF file format, one of ‘NETCDF4’, ‘NETCDF4_CLASSIC’,
‘NETCDF3_CLASSIC’ or ‘NETCDF3_64BIT’. Default is ‘NETCDF4’ format.</p>
</dd>
</dl>
</li>
</ul>
<dl class="simple">
<dt>Returns:</dt><dd><p>None.</p>
</dd>
</dl>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialise Manager for saving</span>
<span class="k">with</span> <span class="n">Saver</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">netcdf_format</span><span class="p">)</span> <span class="k">as</span> <span class="n">sman</span><span class="p">:</span>
    <span class="c1"># Iterate through the cubelist.</span>
    <span class="k">for</span> <span class="n">cube</span> <span class="ow">in</span> <span class="n">cubes</span><span class="p">:</span>
        <span class="n">sman</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cube</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="iris.fileformats.netcdf.Saver.cf_valid_var_name">
<em class="property">static </em><code class="sig-name descname">cf_valid_var_name</code><span class="sig-paren">(</span><em class="sig-param">var_name</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.Saver.cf_valid_var_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a valid CF var_name given a potentially invalid name.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="simple">
<dt>var_name (str):</dt><dd><p>The var_name to normalise</p>
</dd>
</dl>
</li>
</ul>
<dl class="simple">
<dt>Returns:</dt><dd><p>A var_name suitable for passing through for variable creation.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="iris.fileformats.netcdf.Saver.check_attribute_compliance">
<em class="property">static </em><code class="sig-name descname">check_attribute_compliance</code><span class="sig-paren">(</span><em class="sig-param">container</em>, <em class="sig-param">data</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.Saver.check_attribute_compliance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="iris.fileformats.netcdf.Saver.update_global_attributes">
<code class="sig-name descname">update_global_attributes</code><span class="sig-paren">(</span><em class="sig-param">attributes=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.Saver.update_global_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the CF global attributes based on the provided
iterable/dictionary and/or keyword arguments.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="simple">
<dt>attributes (dict or iterable of key, value pairs):</dt><dd><p>CF global attributes to be updated.</p>
</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="iris.fileformats.netcdf.Saver.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param">cube</em>, <em class="sig-param">local_keys=None</em>, <em class="sig-param">unlimited_dimensions=None</em>, <em class="sig-param">zlib=False</em>, <em class="sig-param">complevel=4</em>, <em class="sig-param">shuffle=True</em>, <em class="sig-param">fletcher32=False</em>, <em class="sig-param">contiguous=False</em>, <em class="sig-param">chunksizes=None</em>, <em class="sig-param">endian='native'</em>, <em class="sig-param">least_significant_digit=None</em>, <em class="sig-param">packing=None</em>, <em class="sig-param">fill_value=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.Saver.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for saving cubes to a NetCDF file.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="simple">
<dt>cube (<a class="reference internal" href="../cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.cube.Cube</span></code></a>):</dt><dd><p>A <a class="reference internal" href="../cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.cube.Cube</span></code></a> to be saved to a netCDF file.</p>
</dd>
</dl>
</li>
</ul>
<p>Kwargs:</p>
<ul>
<li><dl class="simple">
<dt>local_keys (iterable of strings):</dt><dd><p>An interable of cube attribute keys. Any cube attributes with
matching keys will become attributes on the data variable rather
than global attributes.</p>
</dd>
</dl>
</li>
<li><p>unlimited_dimensions (iterable of strings and/or
<a class="reference internal" href="../coords.html#iris.coords.Coord" title="iris.coords.Coord"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.coords.Coord</span></code></a> objects):</p>
<blockquote>
<div><p>List of coordinate names (or coordinate objects)
corresponding to coordinate dimensions of <cite>cube</cite> to save with the
NetCDF dimension variable length ‘UNLIMITED’. By default, no
unlimited dimensions are saved. Only the ‘NETCDF4’ format
supports multiple ‘UNLIMITED’ dimensions.</p>
</div></blockquote>
</li>
<li><dl class="simple">
<dt>zlib (bool):</dt><dd><p>If <cite>True</cite>, the data will be compressed in the netCDF file using
gzip compression (default <cite>False</cite>).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>complevel (int):</dt><dd><p>An integer between 1 and 9 describing the level of compression
desired (default 4). Ignored if <cite>zlib=False</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>shuffle (bool):</dt><dd><p>If <cite>True</cite>, the HDF5 shuffle filter will be applied before
compressing the data (default <cite>True</cite>). This significantly improves
compression. Ignored if <cite>zlib=False</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>fletcher32 (bool):</dt><dd><p>If <cite>True</cite>, the Fletcher32 HDF5 checksum algorithm is activated to
detect errors. Default <cite>False</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>contiguous (bool):</dt><dd><p>If <cite>True</cite>, the variable data is stored contiguously on disk.
Default <cite>False</cite>. Setting to <cite>True</cite> for a variable with an unlimited
dimension will trigger an error.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>chunksizes (tuple of int):</dt><dd><p>Used to manually specify the HDF5 chunksizes for each dimension of
the variable. A detailed discussion of HDF chunking and I/O
performance is available here:
<a class="reference external" href="http://www.hdfgroup.org/HDF5/doc/H5.user/Chunking.html">http://www.hdfgroup.org/HDF5/doc/H5.user/Chunking.html</a>. Basically,
you want the chunk size for each dimension to match as closely as
possible the size of the data block that users will read from the
file. <cite>chunksizes</cite> cannot be set if <cite>contiguous=True</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>endian (string):</dt><dd><p>Used to control whether the data is stored in little or big endian
format on disk. Possible values are ‘little’, ‘big’ or ‘native’
(default). The library will automatically handle endian conversions
when the data is read, but if the data is always going to be read
on a computer with the opposite format as the one used to create
the file, there may be some performance advantage to be gained by
setting the endian-ness.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>least_significant_digit (int):</dt><dd><p>If <cite>least_significant_digit</cite> is specified, variable data will be
truncated (quantized). In conjunction with <cite>zlib=True</cite> this
produces ‘lossy’, but significantly more efficient compression. For
example, if <cite>least_significant_digit=1</cite>, data will be quantized
using <cite>numpy.around(scale*data)/scale</cite>, where <cite>scale = 2**bits</cite>,
and <cite>bits</cite> is determined so that a precision of 0.1 is retained (in
this case <cite>bits=4</cite>). From
<a class="reference external" href="http://www.esrl.noaa.gov/psd/data/gridded/conventions/cdc_netcdf_standard.shtml">http://www.esrl.noaa.gov/psd/data/gridded/conventions/cdc_netcdf_standard.shtml</a>:
“least_significant_digit – power of ten of the smallest decimal
place in unpacked data that is a reliable value”. Default is
<cite>None</cite>, or no quantization, or ‘lossless’ compression.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>packing (type or string or dict or list): A numpy integer datatype</dt><dd><p>(signed or unsigned) or a string that describes a numpy integer
dtype(i.e. ‘i2’, ‘short’, ‘u4’) or a dict of packing parameters as
described below. This provides support for netCDF data packing as
described in
<a class="reference external" href="http://www.unidata.ucar.edu/software/netcdf/docs/BestPractices.html#bp_Packed-Data-Values">http://www.unidata.ucar.edu/software/netcdf/docs/BestPractices.html#bp_Packed-Data-Values</a>
If this argument is a type (or type string), appropriate values of
scale_factor and add_offset will be automatically calculated based
on <cite>cube.data</cite> and possible masking. For more control, pass a dict
with one or more of the following keys: <cite>dtype</cite> (required),
<cite>scale_factor</cite> and <cite>add_offset</cite>. Note that automatic calculation of
packing parameters will trigger loading of lazy data; set them
manually using a dict to avoid this. The default is <cite>None</cite>, in
which case the datatype is determined from the cube and no packing
will occur.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>fill_value:</dt><dd><p>The value to use for the <cite>_FillValue</cite> attribute on the netCDF
variable. If <cite>packing</cite> is specified the value of <cite>fill_value</cite>
should be in the domain of the packed data.</p>
</dd>
</dl>
</li>
</ul>
<dl class="simple">
<dt>Returns:</dt><dd><p>None.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <cite>zlib</cite>, <cite>complevel</cite>, <cite>shuffle</cite>, <cite>fletcher32</cite>, <cite>contiguous</cite>,
<cite>chunksizes</cite> and <cite>endian</cite> keywords are silently ignored for netCDF
3 files that do not use HDF5.</p>
</div>
</dd></dl>

</dd></dl>

</div></blockquote>
<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><p>Base class for warning categories.</p>
<blockquote>
<div><dl class="class">
<dt id="iris.fileformats.netcdf.UnknownCellMethodWarning">
<em class="property">class </em><code class="sig-prename descclassname">iris.fileformats.netcdf.</code><code class="sig-name descname">UnknownCellMethodWarning</code><a class="headerlink" href="#iris.fileformats.netcdf.UnknownCellMethodWarning" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Warning</span></code></p>
<dl class="method">
<dt id="iris.fileformats.netcdf.UnknownCellMethodWarning.with_traceback">
<code class="sig-name descname">with_traceback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.UnknownCellMethodWarning.with_traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.netcdf.UnknownCellMethodWarning.args">
<code class="sig-name descname">args</code><a class="headerlink" href="#iris.fileformats.netcdf.UnknownCellMethodWarning.args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div></blockquote>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="nimrod.html" title="iris.fileformats.nimrod"
             >next</a> |</li>
        <li class="right" >
          <a href="name_loaders.html" title="iris.fileformats.name_loaders"
             >previous</a> |</li>
        <li><a href="../../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../../../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../../../contents.html">contents</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../../iris.html" >Iris reference documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../fileformats.html" >iris.fileformats</a> &#187;</li> 
      </ul>
    </div>

    <div class="footer">
    <p style="text-align: left; float: left; margin: 0px; padding: 0 0 0 5px;">Documentation licensed under the <a href="http://reference.data.gov.uk/id/open-government-licence" rel="license">Open Government Licence</a></p>
        &copy; <a href="../../../copyright.html">British Crown Copyright</a> 2010 - 2019, Met Office
    </div>

    <!-- Include a version switcher to easily move between the documentation of different versions -->
    <script type=text/javascript src="/iris/docs/version_switch.js" async></script>

  </body>
</html>