
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>What’s New in Iris 1.12 &#8212; Iris 2.0.0 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="What’s New in Iris 1.11" href="1.11.html" />
    <link rel="prev" title="What’s New in Iris 1.13" href="1.13.html" />
 
    <META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
    <META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE"> 

    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <script type="text/javascript" src="http://docs.python.org/2/_static/copybutton.js"></script>

  </head><body>
<div style="background-color: white; text-align: left; padding: 1px 10px 1px 15px">
<p style="margin-left: 15px; font-weight:bolder; letter-spacing:0.1ex;">
<a href="../index.html"><img src="../_static/Iris7_1_trim_100.png" width=101 height=100 border="0" style="vertical-align:middle" alt="Logo"/></a>
<span style="font-size: 400%; vertical-align:middle"> Iris 2.0 </span>
</p>

</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="1.11.html" title="What’s New in Iris 1.11"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="1.13.html" title="What’s New in Iris 1.13"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../contents.html">contents</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">What’s new in Iris</a> &#187;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">What’s New in Iris 1.12</a><ul>
<li><a class="reference internal" href="#iris-1-12-features">Iris 1.12 Features</a></li>
<li><a class="reference internal" href="#deprecations">Deprecations</a></li>
<li><a class="reference internal" href="#documentation-changes">Documentation Changes</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="1.13.html"
                        title="previous chapter">What’s New in Iris 1.13</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="1.11.html"
                        title="next chapter">What’s New in Iris 1.11</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/whatsnew/1.12.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="what-s-new-in-iris-1-12">
<h1>What’s New in Iris 1.12<a class="headerlink" href="#what-s-new-in-iris-1-12" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Release:</th><td class="field-body">1.12</td>
</tr>
<tr class="field-even field"><th class="field-name">Date:</th><td class="field-body">2017-01-30</td>
</tr>
</tbody>
</table>
<p>This document explains the new/changed features of Iris in version 1.12
(<a class="reference internal" href="index.html"><span class="doc">View all changes</span></a>.)</p>
<div class="section" id="iris-1-12-features">
<h2>Iris 1.12 Features<a class="headerlink" href="#iris-1-12-features" title="Permalink to this headline">¶</a></h2>
<div class="admonition-showcase-feature-new-regridding-schemes admonition" id="showcase">
<p class="first admonition-title">Showcase Feature: New regridding schemes</p>
<p>A new regridding scheme, <a class="reference internal" href="../iris/iris/analysis.html#iris.analysis.UnstructuredNearest" title="iris.analysis.UnstructuredNearest"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.analysis.UnstructuredNearest</span></code></a>,
performs nearest-neighbour regridding from “unstructured” onto “structured”
grids. Here, “unstructured” means that the data has X and Y coordinate values
defined at each horizontal location, instead of the independent X and Y
dimensions that constitute a structured grid.
For example, data sampled on a trajectory or a tripolar ocean grid would be
unstructured.</p>
<p class="last">In addition, added experimental ProjectedUnstructured regridders which use
scipy.interpolate.griddata to regrid unstructured data
(see <a class="reference internal" href="../iris/iris/experimental/regrid.html#iris.experimental.regrid.ProjectedUnstructuredLinear" title="iris.experimental.regrid.ProjectedUnstructuredLinear"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.experimental.regrid.ProjectedUnstructuredLinear</span></code></a> and
<a class="reference internal" href="../iris/iris/experimental/regrid.html#iris.experimental.regrid.ProjectedUnstructuredNearest" title="iris.experimental.regrid.ProjectedUnstructuredNearest"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.experimental.regrid.ProjectedUnstructuredNearest</span></code></a>). The
essential purpose is the same as <a class="reference internal" href="../iris/iris/analysis.html#iris.analysis.UnstructuredNearest" title="iris.analysis.UnstructuredNearest"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.analysis.UnstructuredNearest</span></code></a>.
This scheme, by comparison, is generally faster, but less accurate.</p>
</div>
<div class="admonition-showcase-feature-fast-um-file-loading admonition">
<p class="first admonition-title">Showcase Feature: Fast UM file loading</p>
<p>Support has been added for accelerated loading of UM files (PP and
Fieldsfile), when these have a suitable regular “structured” form.</p>
<p>A context manager is used to enable fast um loading in all the regular Iris
load functions, such as <a class="reference internal" href="../iris/iris.html#iris.load" title="iris.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iris.load()</span></code></a> and <a class="reference internal" href="../iris/iris.html#iris.load_cube" title="iris.load_cube"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iris.load_cube()</span></code></a>,
when loading data from UM file types.
For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">iris</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filepath</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">sample_data_path</span><span class="p">(</span><span class="s1">&#39;uk_hires.pp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">iris.fileformats.um</span> <span class="kn">import</span> <span class="n">structured_um_loading</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">structured_um_loading</span><span class="p">():</span>
<span class="gp">... </span>    <span class="n">cube</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">load_cube</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s1">&#39;air_potential_temperature&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This approach can deliver loading which is 10 times faster or more.
For example :</p>
<ul class="simple">
<li>a 78 Gb fieldsfile of 51,840 fields loads in about 13 rather than 190
seconds.</li>
<li>a set of 25 800Mb PP files loads in about 21 rather than 220 seconds.</li>
</ul>
<p>You can load data with structured loading and compare the results with those
from “normal” loading to check whether they are equivalent.</p>
<ul class="simple">
<li>The results will normally differ, if at all, only in having dimensions in a
different order or a different choice of dimension coordinates.
<strong>In these cases, structured loading can be used with confidence.</strong></li>
<li>Ordinary Fieldsfiles (i.e. model outputs) are generally suitable for
structured loading.  Many PP files also are, especially if produced
directly from Fieldsfiles, and retaining the same field ordering.</li>
<li>Some inputs however (generally PP) will be unsuitable for structured
loading :  For instance if a particular combination of vertical levels and
time has been omitted, or some fields appear out of order.</li>
<li>There are also some known unsupported cases, including data which is
produced on pseudo-levels.  See the detail documentation on this.</li>
</ul>
<p>It is the user’s responsibility to use structured loading only with suitable
inputs.  Otherwise, odd behaviour and even incorrect loading can result, as
input files are not checked as fully as in a normal load.</p>
<p>Although the user loading call for structured loading can be just the same,
and the returned results are also often identical, structured loading is not
in fact an exact <em>identical</em> replacement for normal loading:</p>
<ul class="simple">
<li>results are often somewhat different, especially regarding the order
of dimensions and the choice of dimension coordinates.</li>
<li>although both constraints and user callbacks are supported, callback
routines will generally need to be re-written.  This is because a
‘raw’ cube in structured loading generally covers <em>multiple</em> PPfields,
which therefore need to be handled as a collection :  A grouping object
containing them is passed to the callback ‘field’ argument.
An example showing callbacks suitable for both normal and structured
loading can be seen <a class="reference external" href="https://github.com/pp-mo/iris/blob/9042b4217ab6dd78dcfccfec19584170a5a6250a/lib/iris/tests/integration/fast_load/test_fast_load.py#L409">here</a>.</li>
</ul>
<p class="last">For full details, see : <a class="reference internal" href="../iris/iris/fileformats/um.html#iris.fileformats.um.structured_um_loading" title="iris.fileformats.um.structured_um_loading"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iris.fileformats.um.structured_um_loading()</span></code></a>.</p>
</div>
<ul class="simple">
<li>A skip pattern is introduced to the fields file loader, such that fields
which cannot be turned into iris PPField instances are skipped and the
remaining fields are loaded.  This especially applies to certain types of
files that can contain fields with a non-standard LBREL value : Iris can now
load such a file, skipping the unreadable field and printing a warning
message.</li>
<li>Iris can now load PP files containing a PP field whose LBLREC value does not
match the field length recorded in the file.
A warning message is printed, and all fields up to the offending one are
loaded and returned.
Previously, this simply resulted in an unrecoverable error.</li>
<li>The transpose method of a Cube now results in a lazy transposed view of the
original rather than realising the data then transposing it.</li>
<li>The <a class="reference internal" href="../iris/iris/analysis/cartography.html#iris.analysis.cartography.area_weights" title="iris.analysis.cartography.area_weights"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.analysis.cartography.area_weights()</span></code></a> function is now more
accurate for single precision input bounds.</li>
<li>Iris is now able to read seconds in datetimes provided in NAME trajectory
files.</li>
<li>Optimisations to trajectory interpolations have resulted in a significant
speed improvement.</li>
<li>Many new and updated translations between CF spec and STASH codes.</li>
</ul>
</div>
<div class="section" id="deprecations">
<h2>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The module <code class="xref py py-mod docutils literal notranslate"><span class="pre">iris.experimental.fieldsfile</span></code> has been deprecated, in favour
of the new fast-loading mechanism provided by
<a class="reference internal" href="../iris/iris/fileformats/um.html#iris.fileformats.um.structured_um_loading" title="iris.fileformats.um.structured_um_loading"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iris.fileformats.um.structured_um_loading()</span></code></a>.</li>
</ul>
</div>
<div class="section" id="documentation-changes">
<h2>Documentation Changes<a class="headerlink" href="#documentation-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Corrected documentation of <a class="reference internal" href="../iris/iris/analysis.html#iris.analysis.AreaWeighted" title="iris.analysis.AreaWeighted"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.analysis.AreaWeighted</span></code></a> scheme to make
the usage scope clearer.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="1.11.html" title="What’s New in Iris 1.11"
             >next</a> |</li>
        <li class="right" >
          <a href="1.13.html" title="What’s New in Iris 1.13"
             >previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../contents.html">contents</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >What’s new in Iris</a> &#187;</li> 
      </ul>
    </div>

    <div class="footer">
    <p style="text-align: left; float: left; margin: 0px; padding: 0 0 0 5px;">Documentation licensed under the <a href="http://reference.data.gov.uk/id/open-government-licence" rel="license">Open Government Licence</a></p>
        &copy; <a href="../copyright.html">British Crown Copyright</a> 2010 - 2018, Met Office
    </div>


  <!-- Include a version switcher to easily move between the documentation of different versions -->
  <script type=text/javascript src=/iris/docs/version_switch.js></script>
  </body>
</html>