
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Iris reference documentation &#8212; Iris 2.0.0 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="iris.analysis" href="iris/analysis.html" />
    <link rel="prev" title="14. End of the user guide" href="../userguide/end_of_userguide.html" />
 
    <META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
    <META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE"> 

    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <script type="text/javascript" src="https://docs.python.org/2/_static/copybutton.js"></script>

  </head><body>
<div style="background-color: white; text-align: left; padding: 1px 10px 1px 15px">
<p style="margin-left: 15px; font-weight:bolder; letter-spacing:0.1ex;">
<a href="../index.html"><img src="../_static/Iris7_1_trim_100.png" width=101 height=100 border="0" style="vertical-align:middle" alt="Logo"/></a>
<span style="font-size: 400%; vertical-align:middle"> Iris 2.0 </span>
</p>

</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="iris/analysis.html" title="iris.analysis"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../userguide/end_of_userguide.html" title="14. End of the user guide"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../contents.html">contents</a>|&nbsp;</li>
 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="../userguide/end_of_userguide.html"
                        title="previous chapter">14. End of the user guide</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="iris/analysis.html"
                        title="next chapter">iris.analysis</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/iris/iris.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="iris-reference-documentation">
<span id="iris"></span><h1>Iris reference documentation<a class="headerlink" href="#iris-reference-documentation" title="Permalink to this headline">¶</a></h1>
<div class="sidebar">
<p class="first sidebar-title">Modules in this package</p>
<div class="toctree-wrapper last compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="iris/analysis.html">iris.analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/aux_factory.html">iris.aux_factory</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/config.html">iris.config</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/coord_categorisation.html">iris.coord_categorisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/coord_systems.html">iris.coord_systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/coords.html">iris.coords</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/cube.html">iris.cube</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/exceptions.html">iris.exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/experimental.html">iris.experimental</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/fileformats.html">iris.fileformats</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/io.html">iris.io</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/iterate.html">iris.iterate</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/palette.html">iris.palette</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/pandas.html">iris.pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/plot.html">iris.plot</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/quickplot.html">iris.quickplot</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/std_names.html">iris.std_names</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/symbols.html">iris.symbols</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/time.html">iris.time</a></li>
<li class="toctree-l1"><a class="reference internal" href="iris/util.html">iris.util</a></li>
</ul>
</div>
</div>
<span class="target" id="module-iris"></span><p>A package for handling multi-dimensional data and associated metadata.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Iris documentation has further usage information, including
a <a class="reference internal" href="../userguide/index.html#user-guide-index"><span class="std std-ref">user guide</span></a> which should be the first port of
call for new users.</p>
</div>
<p>The functions in this module provide the main way to load and/or save
your data.</p>
<p>The <a class="reference internal" href="#iris.load" title="iris.load"><code class="xref py py-func docutils literal notranslate"><span class="pre">load()</span></code></a> function provides a simple way to explore data from
the interactive Python prompt. It will convert the source data into
<a class="reference internal" href="iris/cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal notranslate"><span class="pre">Cubes</span></code></a>, and combine those cubes into
higher-dimensional cubes where possible.</p>
<p>The <a class="reference internal" href="#iris.load_cube" title="iris.load_cube"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_cube()</span></code></a> and <a class="reference internal" href="#iris.load_cubes" title="iris.load_cubes"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_cubes()</span></code></a> functions are similar to
<a class="reference internal" href="#iris.load" title="iris.load"><code class="xref py py-func docutils literal notranslate"><span class="pre">load()</span></code></a>, but they raise an exception if the number of cubes is not
what was expected. They are more useful in scripts, where they can
provide an early sanity check on incoming data.</p>
<p>The <a class="reference internal" href="#iris.load_raw" title="iris.load_raw"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_raw()</span></code></a> function is provided for those occasions where the
automatic combination of cubes into higher-dimensional cubes is
undesirable. However, it is intended as a tool of last resort! If you
experience a problem with the automatic combination process then please
raise an issue with the Iris developers.</p>
<p>To persist a cube to the file-system, use the <a class="reference internal" href="#iris.save" title="iris.save"><code class="xref py py-func docutils literal notranslate"><span class="pre">save()</span></code></a> function.</p>
<p>All the load functions share very similar arguments:</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt>uris:</dt>
<dd><p class="first">Either a single filename/URI expressed as a string, or an
iterable of filenames/URIs.</p>
<p class="last">Filenames can contain <cite>~</cite> or <cite>~user</cite> abbreviations, and/or
Unix shell-style wildcards (e.g. <cite>*</cite> and <cite>?</cite>). See the
standard library function <a class="reference external" href="https://docs.python.org/2.7/library/os.path.html#os.path.expanduser" title="(in Python v2.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.path.expanduser()</span></code></a> and
module <a class="reference external" href="https://docs.python.org/2.7/library/fnmatch.html#module-fnmatch" title="(in Python v2.7)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fnmatch</span></code></a> for more details.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>constraints:</dt>
<dd><p class="first">Either a single constraint, or an iterable of constraints.
Each constraint can be either a string, an instance of
<a class="reference internal" href="#iris.Constraint" title="iris.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.Constraint</span></code></a>, or an instance of
<a class="reference internal" href="#iris.AttributeConstraint" title="iris.AttributeConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.AttributeConstraint</span></code></a>.  If the constraint is a string
it will be used to match against cube.name().</p>
<p id="constraint-egs">For example:</p>
<div class="last highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load air temperature data.</span>
<span class="n">load_cube</span><span class="p">(</span><span class="n">uri</span><span class="p">,</span> <span class="s1">&#39;air_temperature&#39;</span><span class="p">)</span>

<span class="c1"># Load data with a specific model level number.</span>
<span class="n">load_cube</span><span class="p">(</span><span class="n">uri</span><span class="p">,</span> <span class="n">iris</span><span class="o">.</span><span class="n">Constraint</span><span class="p">(</span><span class="n">model_level_number</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>

<span class="c1"># Load data with a specific STASH code.</span>
<span class="n">load_cube</span><span class="p">(</span><span class="n">uri</span><span class="p">,</span> <span class="n">iris</span><span class="o">.</span><span class="n">AttributeConstraint</span><span class="p">(</span><span class="n">STASH</span><span class="o">=</span><span class="s1">&#39;m01s00i004&#39;</span><span class="p">))</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>callback:</dt>
<dd><p class="first">A function to add metadata from the originating field and/or URI which
obeys the following rules:</p>
<ol class="arabic simple">
<li>Function signature must be: <code class="docutils literal notranslate"><span class="pre">(cube,</span> <span class="pre">field,</span> <span class="pre">filename)</span></code>.</li>
<li>Modifies the given cube inplace, unless a new cube is
returned by the function.</li>
<li>If the cube is to be rejected the callback must raise
an <a class="reference internal" href="iris/exceptions.html#iris.exceptions.IgnoreCubeException" title="iris.exceptions.IgnoreCubeException"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.exceptions.IgnoreCubeException</span></code></a>.</li>
</ol>
<p>For example:</p>
<div class="last highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">callback</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
    <span class="c1"># Extract ID from filenames given as: &lt;prefix&gt;__&lt;exp_id&gt;</span>
    <span class="n">experiment_id</span> <span class="o">=</span> <span class="n">filename</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;__&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">experiment_coord</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">coords</span><span class="o">.</span><span class="n">AuxCoord</span><span class="p">(</span>
        <span class="n">experiment_id</span><span class="p">,</span> <span class="n">long_name</span><span class="o">=</span><span class="s1">&#39;experiment_id&#39;</span><span class="p">)</span>
    <span class="n">cube</span><span class="o">.</span><span class="n">add_aux_coord</span><span class="p">(</span><span class="n">experiment_coord</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>In this module:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#iris.load" title="iris.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a></li>
<li><a class="reference internal" href="#iris.load_cube" title="iris.load_cube"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_cube</span></code></a></li>
<li><a class="reference internal" href="#iris.load_cubes" title="iris.load_cubes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_cubes</span></code></a></li>
<li><a class="reference internal" href="#iris.load_raw" title="iris.load_raw"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_raw</span></code></a></li>
<li><a class="reference internal" href="#iris.save" title="iris.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a></li>
<li><a class="reference internal" href="#iris.Constraint" title="iris.Constraint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Constraint</span></code></a></li>
<li><a class="reference internal" href="#iris.AttributeConstraint" title="iris.AttributeConstraint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AttributeConstraint</span></code></a></li>
<li><a class="reference internal" href="#iris.sample_data_path" title="iris.sample_data_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sample_data_path</span></code></a></li>
<li><a class="reference internal" href="#iris.site_configuration" title="iris.site_configuration"><code class="xref py py-obj docutils literal notranslate"><span class="pre">site_configuration</span></code></a></li>
<li><a class="reference internal" href="#iris.Future" title="iris.Future"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Future</span></code></a></li>
<li><a class="reference internal" href="#iris.FUTURE" title="iris.FUTURE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FUTURE</span></code></a></li>
<li><a class="reference internal" href="#iris.IrisDeprecation" title="iris.IrisDeprecation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IrisDeprecation</span></code></a></li>
</ul>
</div></blockquote>
<dl class="function">
<dt id="iris.load">
<code class="descclassname">iris.</code><code class="descname">load</code><span class="sig-paren">(</span><em>uris</em>, <em>constraints=None</em>, <em>callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads any number of Cubes for each constraint.</p>
<p>For a full description of the arguments, please see the module
documentation for <a class="reference internal" href="#module-iris" title="iris"><code class="xref py py-mod docutils literal notranslate"><span class="pre">iris</span></code></a>.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>uris:</dt>
<dd>One or more filenames/URIs.</dd>
</dl>
</li>
</ul>
<p>Kwargs:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>constraints:</dt>
<dd>One or more constraints.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>callback:</dt>
<dd>A modifier/filter function.</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>Returns:</dt>
<dd>An <a class="reference internal" href="iris/cube.html#iris.cube.CubeList" title="iris.cube.CubeList"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.cube.CubeList</span></code></a>.</dd>
</dl>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.load_cube">
<code class="descclassname">iris.</code><code class="descname">load_cube</code><span class="sig-paren">(</span><em>uris</em>, <em>constraint=None</em>, <em>callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.load_cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a single cube.</p>
<p>For a full description of the arguments, please see the module
documentation for <a class="reference internal" href="#module-iris" title="iris"><code class="xref py py-mod docutils literal notranslate"><span class="pre">iris</span></code></a>.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>uris:</dt>
<dd>One or more filenames/URIs.</dd>
</dl>
</li>
</ul>
<p>Kwargs:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>constraints:</dt>
<dd>A constraint.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>callback:</dt>
<dd>A modifier/filter function.</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>Returns:</dt>
<dd>An <a class="reference internal" href="iris/cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.cube.Cube</span></code></a>.</dd>
</dl>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.load_cubes">
<code class="descclassname">iris.</code><code class="descname">load_cubes</code><span class="sig-paren">(</span><em>uris</em>, <em>constraints=None</em>, <em>callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.load_cubes" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads exactly one Cube for each constraint.</p>
<p>For a full description of the arguments, please see the module
documentation for <a class="reference internal" href="#module-iris" title="iris"><code class="xref py py-mod docutils literal notranslate"><span class="pre">iris</span></code></a>.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>uris:</dt>
<dd>One or more filenames/URIs.</dd>
</dl>
</li>
</ul>
<p>Kwargs:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>constraints:</dt>
<dd>One or more constraints.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>callback:</dt>
<dd>A modifier/filter function.</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>Returns:</dt>
<dd>An <a class="reference internal" href="iris/cube.html#iris.cube.CubeList" title="iris.cube.CubeList"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.cube.CubeList</span></code></a>.</dd>
</dl>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.load_raw">
<code class="descclassname">iris.</code><code class="descname">load_raw</code><span class="sig-paren">(</span><em>uris</em>, <em>constraints=None</em>, <em>callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.load_raw" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads non-merged cubes.</p>
<p>This function is provided for those occasions where the automatic
combination of cubes into higher-dimensional cubes is undesirable.
However, it is intended as a tool of last resort! If you experience
a problem with the automatic combination process then please raise
an issue with the Iris developers.</p>
<p>For a full description of the arguments, please see the module
documentation for <a class="reference internal" href="#module-iris" title="iris"><code class="xref py py-mod docutils literal notranslate"><span class="pre">iris</span></code></a>.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>uris:</dt>
<dd>One or more filenames/URIs.</dd>
</dl>
</li>
</ul>
<p>Kwargs:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>constraints:</dt>
<dd>One or more constraints.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>callback:</dt>
<dd>A modifier/filter function.</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>Returns:</dt>
<dd>An <a class="reference internal" href="iris/cube.html#iris.cube.CubeList" title="iris.cube.CubeList"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.cube.CubeList</span></code></a>.</dd>
</dl>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.save">
<code class="descclassname">iris.</code><code class="descname">save</code><span class="sig-paren">(</span><em>source</em>, <em>target</em>, <em>saver=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save one or more Cubes to file (or other writable).</p>
<p>Iris currently supports three file formats for saving, which it can
recognise by filename extension:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt>netCDF - the Unidata network Common Data Format:</dt>
<dd><ul class="first last">
<li>see <a class="reference internal" href="iris/fileformats/netcdf.html#iris.fileformats.netcdf.save" title="iris.fileformats.netcdf.save"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.fileformats.netcdf.save()</span></code></a></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>GRIB2 - the WMO GRIdded Binary data format:</dt>
<dd><ul class="first last">
<li>see <a class="reference external" href="http://iris-grib.readthedocs.io/en/latest/ref/iris_grib.html#iris_grib.save_grib2" title="(in iris-grib)"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris_grib.save_grib2()</span></code></a>.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>PP - the Met Office UM Post Processing Format:</dt>
<dd><ul class="first last">
<li>see <a class="reference internal" href="iris/fileformats/pp.html#iris.fileformats.pp.save" title="iris.fileformats.pp.save"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.fileformats.pp.save()</span></code></a></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>A custom saver can be provided to the function to write to a different
file format.</p>
<p>Args:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt>source    - A <a class="reference internal" href="iris/cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.cube.Cube</span></code></a>, <a class="reference internal" href="iris/cube.html#iris.cube.CubeList" title="iris.cube.CubeList"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.cube.CubeList</span></code></a> or</dt>
<dd>sequence of cubes.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>target    - A filename (or writable, depending on file format).</dt>
<dd>When given a filename or file, Iris can determine the
file format.</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>Kwargs:</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt>saver     - Optional. Specifies the save function to use.</dt>
<dd><p class="first">If omitted, Iris will attempt to determine the format.</p>
<p class="last">This keyword can be used to implement a custom save
format. Function form must be:
<code class="docutils literal notranslate"><span class="pre">my_saver(cube,</span> <span class="pre">target)</span></code> plus any custom keywords. It
is assumed that a saver will accept an <code class="docutils literal notranslate"><span class="pre">append</span></code> keyword
if it’s file format can handle multiple cubes. See also
<a class="reference internal" href="iris/io.html#iris.io.add_saver" title="iris.io.add_saver"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.io.add_saver()</span></code></a>.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>All other keywords are passed through to the saver function; see the
relevant saver documentation for more information on keyword arguments.</p>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Save a cube to PP</span>
<span class="n">iris</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">my_cube</span><span class="p">,</span> <span class="s2">&quot;myfile.pp&quot;</span><span class="p">)</span>

<span class="c1"># Save a cube list to a PP file, appending to the contents of the file</span>
<span class="c1"># if it already exists</span>
<span class="n">iris</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">my_cube_list</span><span class="p">,</span> <span class="s2">&quot;myfile.pp&quot;</span><span class="p">,</span> <span class="n">append</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># Save a cube to netCDF, defaults to NETCDF4 file format</span>
<span class="n">iris</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">my_cube</span><span class="p">,</span> <span class="s2">&quot;myfile.nc&quot;</span><span class="p">)</span>

<span class="c1"># Save a cube list to netCDF, using the NETCDF3_CLASSIC storage option</span>
<span class="n">iris</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">my_cube_list</span><span class="p">,</span> <span class="s2">&quot;myfile.nc&quot;</span><span class="p">,</span> <span class="n">netcdf_format</span><span class="o">=</span><span class="s2">&quot;NETCDF3_CLASSIC&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Saving a cube whose data has been loaded lazily
(if <cite>cube.has_lazy_data()</cite> returns <cite>True</cite>) to the same file it expects
to load data from will cause both the data in-memory and the data on
disk to be lost.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cube</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">load_cube</span><span class="p">(</span><span class="s1">&#39;somefile.nc&#39;</span><span class="p">)</span>
<span class="c1"># The next line causes data loss in &#39;somefile.nc&#39; and the cube.</span>
<span class="n">iris</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="s1">&#39;somefile.nc&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="last">In general, overwriting a file which is the source for any lazily loaded
data can result in corruption. Users should proceed with caution when
attempting to overwrite an existing file.</p>
</div>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><p>Constraints are the mechanism by which cubes can be pattern matched and
filtered according to specific criteria.</p>
<p>Once a constraint has been defined, it can be applied to cubes using the
<a class="reference internal" href="#iris.Constraint.extract" title="iris.Constraint.extract"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Constraint.extract()</span></code></a> method.</p>
<blockquote>
<div><dl class="class">
<dt id="iris.Constraint">
<em class="property">class </em><code class="descclassname">iris.</code><code class="descname">Constraint</code><span class="sig-paren">(</span><em>name=None</em>, <em>cube_func=None</em>, <em>coord_values=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.Constraint" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Creates a new instance of a Constraint which can be used for filtering
cube loading or cube list extraction.</p>
<p>Args:</p>
<ul>
<li><dl class="first docutils">
<dt>name:   string or None</dt>
<dd><p class="first last">If a string, it is used as the name to match against Cube.name().</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>cube_func:   callable or None</dt>
<dd><p class="first last">If a callable, it must accept a Cube as its first and only argument
and return either True or False.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>coord_values:   dict or None</dt>
<dd><p class="first last">If a dict, it must map coordinate name to the condition on the
associated coordinate.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>**kwargs</cite>:</dt>
<dd><p class="first">The remaining keyword arguments are converted to coordinate
constraints. The name of the argument gives the name of a
coordinate, and the value of the argument is the condition to meet
on that coordinate:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Constraint</span><span class="p">(</span><span class="n">model_level_number</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>Coordinate level constraints can be of several types:</p>
<ul class="last simple">
<li><strong>string, int or float</strong> - the value of the coordinate to match.
e.g. <code class="docutils literal notranslate"><span class="pre">model_level_number=10</span></code></li>
<li><strong>list of values</strong> - the possible values that the coordinate may
have to match. e.g. <code class="docutils literal notranslate"><span class="pre">model_level_number=[10,</span> <span class="pre">12]</span></code></li>
<li><strong>callable</strong> - a function which accepts a
<a class="reference internal" href="iris/coords.html#iris.coords.Cell" title="iris.coords.Cell"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.coords.Cell</span></code></a> instance as its first and only argument
returning True or False if the value of the Cell is desired.
e.g. <code class="docutils literal notranslate"><span class="pre">model_level_number=lambda</span> <span class="pre">cell:</span> <span class="pre">5</span> <span class="pre">&lt;</span> <span class="pre">cell</span> <span class="pre">&lt;</span> <span class="pre">10</span></code></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>The <a class="reference internal" href="../userguide/loading_iris_cubes.html#loading-iris-cubes"><span class="std std-ref">user guide</span></a> covers cube much of
constraining in detail, however an example which uses all of the
features of this class is given here for completeness:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Constraint</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;air_potential_temperature&#39;</span><span class="p">,</span>
           <span class="n">cube_func</span><span class="o">=</span><span class="k">lambda</span> <span class="n">cube</span><span class="p">:</span> <span class="n">cube</span><span class="o">.</span><span class="n">units</span> <span class="o">==</span> <span class="s1">&#39;kelvin&#39;</span><span class="p">,</span>
           <span class="n">coord_values</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;latitude&#39;</span><span class="p">:</span><span class="k">lambda</span> <span class="n">cell</span><span class="p">:</span> <span class="mi">0</span> <span class="o">&lt;</span> <span class="n">cell</span> <span class="o">&lt;</span> <span class="mi">90</span><span class="p">},</span>
           <span class="n">model_level_number</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">])</span>
           <span class="o">&amp;</span> <span class="n">Constraint</span><span class="p">(</span><span class="n">ensemble_member</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Constraint filtering is performed at the cell level.
For further details on how cell comparisons are performed see
<a class="reference internal" href="iris/coords.html#iris.coords.Cell" title="iris.coords.Cell"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.coords.Cell</span></code></a>.</p>
<dl class="method">
<dt id="iris.Constraint.extract">
<code class="descname">extract</code><span class="sig-paren">(</span><em>cube</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.Constraint.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the subset of the given cube which matches this constraint,
else return None.</p>
</dd></dl>

</dd></dl>

</div></blockquote>
<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><p>Provides a simple Cube-attribute based <a class="reference internal" href="#iris.Constraint" title="iris.Constraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Constraint</span></code></a>.</p>
<blockquote>
<div><dl class="class">
<dt id="iris.AttributeConstraint">
<em class="property">class </em><code class="descclassname">iris.</code><code class="descname">AttributeConstraint</code><span class="sig-paren">(</span><em>**attributes</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.AttributeConstraint" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">iris._constraints.Constraint</span></code></p>
<p>Example usage:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">iris</span><span class="o">.</span><span class="n">AttributeConstraint</span><span class="p">(</span><span class="n">STASH</span><span class="o">=</span><span class="s1">&#39;m01s16i004&#39;</span><span class="p">)</span>

<span class="n">iris</span><span class="o">.</span><span class="n">AttributeConstraint</span><span class="p">(</span>
    <span class="n">STASH</span><span class="o">=</span><span class="k">lambda</span> <span class="n">stash</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">stash</span><span class="p">)</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;i005&#39;</span><span class="p">))</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Attribute constraint names are case sensitive.</p>
</div>
<dl class="method">
<dt id="iris.AttributeConstraint.extract">
<code class="descname">extract</code><span class="sig-paren">(</span><em>cube</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.AttributeConstraint.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the subset of the given cube which matches this constraint,
else return None.</p>
</dd></dl>

</dd></dl>

</div></blockquote>
<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.sample_data_path">
<code class="descclassname">iris.</code><code class="descname">sample_data_path</code><span class="sig-paren">(</span><em>*path_to_join</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.sample_data_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the sample data resource, returns the full path to the file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function is only for locating files in the iris sample data
collection (installed separately from iris). It is not needed or
appropriate for general file access.</p>
</div>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="data">
<dt id="iris.site_configuration">
<code class="descclassname">iris.</code><code class="descname">site_configuration</code><a class="headerlink" href="#iris.site_configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Iris site configuration dictionary.</p>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><p>Run-time configuration controller.</p>
<blockquote>
<div><dl class="class">
<dt id="iris.Future">
<em class="property">class </em><code class="descclassname">iris.</code><code class="descname">Future</code><span class="sig-paren">(</span><em>cell_datetime_objects=True</em>, <em>netcdf_promote=True</em>, <em>netcdf_no_unlimited=True</em>, <em>clip_latitudes=True</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.Future" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_thread._local</span></code></p>
<p>A container for run-time options controls.</p>
<p>To adjust the values simply update the relevant attribute from
within your code. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">iris</span><span class="o">.</span><span class="n">FUTURE</span><span class="o">.</span><span class="n">cell_datetime_objects</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>
</div>
<p>If Iris code is executed with multiple threads, note the values of
these options are thread-specific.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 2.0.0: </span>The option <cite>cell_datetime_objects</cite> is deprecated and will be
removed in a future release. <cite>cell_datetime_objects</cite> is set
to True by default and should not be altered.</p>
<p>The option <cite>cell_datetime_objects</cite> controlled whether the
<a class="reference internal" href="iris/coords.html#iris.coords.Coord.cell" title="iris.coords.Coord.cell"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iris.coords.Coord.cell()</span></code></a> method would return time
coordinate values as simple numbers or as time objects with
attributes for year, month, day, etc.</p>
<p>Cells are now represented as time objects by default, allowing
you to express time constraints using a simpler syntax. For
example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># To select all data defined at midday.</span>
<span class="n">Constraint</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="k">lambda</span> <span class="n">cell</span><span class="p">:</span> <span class="n">cell</span><span class="o">.</span><span class="n">point</span><span class="o">.</span><span class="n">hour</span> <span class="o">==</span> <span class="mi">12</span><span class="p">)</span>

<span class="c1"># To ignore the 29th of February.</span>
<span class="n">Constraint</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="k">lambda</span> <span class="n">cell</span><span class="p">:</span> <span class="n">cell</span><span class="o">.</span><span class="n">point</span><span class="o">.</span><span class="n">day</span> <span class="o">!=</span> <span class="mi">29</span> <span class="ow">and</span>
                             <span class="n">cell</span><span class="o">.</span><span class="n">point</span><span class="o">.</span><span class="n">month</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>For more details, see <a class="reference internal" href="../userguide/loading_iris_cubes.html#using-time-constraints"><span class="std std-ref">Constraining on Time</span></a>.</p>
</div>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 2.0.0: </span>The option <cite>netcdf_promote</cite> is deprecated and will be removed in a
future release and the deprecated code paths this option used to
toggle have been removed.</p>
<p>The option <cite>netcdf_promote</cite> controlled whether the netCDF loader
exposed variables that defined reference surfaces for
dimensionless vertical coordinates as independent Cubes.</p>
</div>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 2.0.0: </span>The option <cite>netcdf_no_unlimited</cite> is deprecated and will be removed
in a future release. The deprecated code paths this option used to
toggle have been removed.</p>
<p>The option <cite>netcdf_no_unlimited</cite> changed the behaviour of the
netCDF saver regarding unlimited dimensions. The netCDF saver now
sets no dimensions to unlimited.</p>
</div>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 2.0.0: </span>The option <cite>clip_latitudes</cite> is deprecated and will be removed in a
future release. <cite>clip_latitudes</cite> is set to True by default and
should not be altered.</p>
<p>The option <cite>clip_latitudes</cite> controlled whether the
<a class="reference internal" href="iris/coords.html#iris.coords.Coord.guess_bounds" title="iris.coords.Coord.guess_bounds"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iris.coords.Coord.guess_bounds()</span></code></a> method would limit the
guessed bounds to [-90, 90] for latitudes.</p>
</div>
<dl class="method">
<dt id="iris.Future.context">
<code class="descname">context</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.Future.context" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a context manager which allows temporary modification of
the option values for the active thread.</p>
<p>On entry to the <cite>with</cite> statement, all keyword arguments are
applied to the Future object. On exit from the <cite>with</cite>
statement, the previous state is restored.</p>
<dl class="docutils">
<dt>For example::</dt>
<dd><dl class="first last docutils">
<dt>with iris.FUTURE.context(cell_datetime_objects=False):</dt>
<dd># … code that expects numbers and not datetimes</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="iris.Future.deprecated_options">
<code class="descname">deprecated_options</code><em class="property"> = {'cell_datetime_objects': 'warning', 'clip_latitudes': 'warning', 'netcdf_no_unlimited': 'error', 'netcdf_promote': 'error'}</em><a class="headerlink" href="#iris.Future.deprecated_options" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div></blockquote>
<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="data">
<dt id="iris.FUTURE">
<code class="descclassname">iris.</code><code class="descname">FUTURE</code><a class="headerlink" href="#iris.FUTURE" title="Permalink to this definition">¶</a></dt>
<dd><p>Object containing all the Iris run-time options.</p>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><p>An Iris deprecation warning.</p>
<blockquote>
<div><dl class="class">
<dt id="iris.IrisDeprecation">
<em class="property">class </em><code class="descclassname">iris.</code><code class="descname">IrisDeprecation</code><a class="headerlink" href="#iris.IrisDeprecation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">UserWarning</span></code></p>
<p>An Iris deprecation warning.</p>
<dl class="method">
<dt id="iris.IrisDeprecation.with_traceback">
<code class="descname">with_traceback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#iris.IrisDeprecation.with_traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

<dl class="attribute">
<dt id="iris.IrisDeprecation.args">
<code class="descname">args</code><a class="headerlink" href="#iris.IrisDeprecation.args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div></blockquote>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="iris/analysis.html" title="iris.analysis"
             >next</a> |</li>
        <li class="right" >
          <a href="../userguide/end_of_userguide.html" title="14. End of the user guide"
             >previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../contents.html">contents</a>|&nbsp;</li>
 
      </ul>
    </div>

    <div class="footer">
    <p style="text-align: left; float: left; margin: 0px; padding: 0 0 0 5px;">Documentation licensed under the <a href="http://reference.data.gov.uk/id/open-government-licence" rel="license">Open Government Licence</a></p>
        &copy; <a href="../copyright.html">British Crown Copyright</a> 2010 - 2018, Met Office
    </div>


  <!-- Include a version switcher to easily move between the documentation of different versions -->
  <script type=text/javascript src=/iris/docs/version_switch.js></script>
  </body>
</html>