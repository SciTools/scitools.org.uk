
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>iris.fileformats.netcdf &#8212; Iris 2.0.0rc1 documentation</title>
    <link rel="stylesheet" href="../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '2.0.0rc1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="copyright" title="Copyright" href="../../../copyright.html" />
    <link rel="next" title="iris.fileformats.nimrod" href="nimrod.html" />
    <link rel="prev" title="iris.fileformats.name_loaders" href="name_loaders.html" />
 
    <META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
    <META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE"> 

    <link rel="stylesheet" href="../../../_static/style.css" type="text/css" />
    <script type="text/javascript" src="http://docs.python.org/2/_static/copybutton.js"></script>

  </head>
  <body>
<div style="background-color: white; text-align: left; padding: 1px 10px 1px 15px">
<p style="margin-left: 15px; font-weight:bolder; letter-spacing:0.1ex;">
<a href="../../../index.html"><img src="../../../_static/Iris7_1_trim_100.png" width=101 height=100 border="0" style="vertical-align:middle" alt="Logo"/></a>
<span style="font-size: 400%; vertical-align:middle"> Iris 2.0 </span>
</p>

</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="nimrod.html" title="iris.fileformats.nimrod"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="name_loaders.html" title="iris.fileformats.name_loaders"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../../../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../../../contents.html">contents</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../../iris.html" >Iris reference documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../fileformats.html" accesskey="U">iris.fileformats</a> &#187;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="name_loaders.html"
                        title="previous chapter">iris.fileformats.name_loaders</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="nimrod.html"
                        title="next chapter">iris.fileformats.nimrod</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/iris/iris/fileformats/netcdf.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="iris-fileformats-netcdf">
<span id="id1"></span><h1>iris.fileformats.netcdf<a class="headerlink" href="#iris-fileformats-netcdf" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-iris.fileformats.netcdf"></span><p>Module to support the loading of a NetCDF file into an Iris cube.</p>
<p>See also: <a class="reference external" href="http://code.google.com/p/netcdf4-python/">netCDF4 python</a>.</p>
<p>Also refer to document ‘NetCDF Climate and Forecast (CF) Metadata Conventions’,
Version 1.4, 27 February 2009.</p>
<p>In this module:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#iris.fileformats.netcdf.load_cubes" title="iris.fileformats.netcdf.load_cubes"><code class="xref py py-obj docutils literal"><span class="pre">load_cubes</span></code></a></li>
<li><a class="reference internal" href="#iris.fileformats.netcdf.parse_cell_methods" title="iris.fileformats.netcdf.parse_cell_methods"><code class="xref py py-obj docutils literal"><span class="pre">parse_cell_methods</span></code></a></li>
<li><a class="reference internal" href="#iris.fileformats.netcdf.save" title="iris.fileformats.netcdf.save"><code class="xref py py-obj docutils literal"><span class="pre">save</span></code></a></li>
<li><a class="reference internal" href="#iris.fileformats.netcdf.CFNameCoordMap" title="iris.fileformats.netcdf.CFNameCoordMap"><code class="xref py py-obj docutils literal"><span class="pre">CFNameCoordMap</span></code></a></li>
<li><a class="reference internal" href="#iris.fileformats.netcdf.NetCDFDataProxy" title="iris.fileformats.netcdf.NetCDFDataProxy"><code class="xref py py-obj docutils literal"><span class="pre">NetCDFDataProxy</span></code></a></li>
<li><a class="reference internal" href="#iris.fileformats.netcdf.Saver" title="iris.fileformats.netcdf.Saver"><code class="xref py py-obj docutils literal"><span class="pre">Saver</span></code></a></li>
<li><a class="reference internal" href="#iris.fileformats.netcdf.UnknownCellMethodWarning" title="iris.fileformats.netcdf.UnknownCellMethodWarning"><code class="xref py py-obj docutils literal"><span class="pre">UnknownCellMethodWarning</span></code></a></li>
</ul>
</div></blockquote>
<dl class="function">
<dt id="iris.fileformats.netcdf.load_cubes">
<code class="descclassname">iris.fileformats.netcdf.</code><code class="descname">load_cubes</code><span class="sig-paren">(</span><em>filenames</em>, <em>callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.load_cubes" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads cubes from a list of NetCDF filenames/URLs.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>filenames (string/list):</dt>
<dd>One or more NetCDF filenames/DAP URLs to load from.</dd>
</dl>
</li>
</ul>
<p>Kwargs:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>callback (callable function):</dt>
<dd>Function which can be passed on to <a class="reference internal" href="../io.html#iris.io.run_callback" title="iris.io.run_callback"><code class="xref py py-func docutils literal"><span class="pre">iris.io.run_callback()</span></code></a>.</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>Returns:</dt>
<dd>Generator of loaded NetCDF <code class="xref py py-class docutils literal"><span class="pre">iris.cubes.Cube</span></code>.</dd>
</dl>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.fileformats.netcdf.parse_cell_methods">
<code class="descclassname">iris.fileformats.netcdf.</code><code class="descname">parse_cell_methods</code><span class="sig-paren">(</span><em>nc_cell_methods</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.parse_cell_methods" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a CF cell_methods attribute string into a tuple of zero or
more CellMethod instances.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>nc_cell_methods (str):</dt>
<dd>The value of the cell methods attribute to be parsed.</dd>
</dl>
</li>
</ul>
<p>Returns:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>cell_methods</dt>
<dd>An iterable of <a class="reference internal" href="../coords.html#iris.coords.CellMethod" title="iris.coords.CellMethod"><code class="xref py py-class docutils literal"><span class="pre">iris.coords.CellMethod</span></code></a>.</dd>
</dl>
</li>
</ul>
<p>Multiple coordinates, intervals and comments are supported.
If a method has a non-standard name a warning will be issued, but the
results are not affected.</p>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.fileformats.netcdf.save">
<code class="descclassname">iris.fileformats.netcdf.</code><code class="descname">save</code><span class="sig-paren">(</span><em>cube</em>, <em>filename</em>, <em>netcdf_format='NETCDF4'</em>, <em>local_keys=None</em>, <em>unlimited_dimensions=None</em>, <em>zlib=False</em>, <em>complevel=4</em>, <em>shuffle=True</em>, <em>fletcher32=False</em>, <em>contiguous=False</em>, <em>chunksizes=None</em>, <em>endian='native'</em>, <em>least_significant_digit=None</em>, <em>packing=None</em>, <em>fill_value=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save cube(s) to a netCDF file, given the cube and the filename.</p>
<ul class="simple">
<li>Iris will write CF 1.5 compliant NetCDF files.</li>
<li>The attributes dictionaries on each cube in the saved cube list
will be compared and common attributes saved as NetCDF global
attributes where appropriate.</li>
<li>Keyword arguments specifying how to save the data are applied
to each cube. To use different settings for different cubes, use
the NetCDF Context manager (<a class="reference internal" href="#iris.fileformats.netcdf.Saver" title="iris.fileformats.netcdf.Saver"><code class="xref py py-class docutils literal"><span class="pre">Saver</span></code></a>) directly.</li>
<li>The save process will stream the data payload to the file using dask,
enabling large data payloads to be saved and maintaining the ‘lazy’
status of the cube’s data payload, unless the netcdf_format is explicitly
specified to be ‘NETCDF3’ or ‘NETCDF3_CLASSIC’.</li>
</ul>
<p>Args:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>cube (<a class="reference internal" href="../cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal"><span class="pre">iris.cube.Cube</span></code></a> or <a class="reference internal" href="../cube.html#iris.cube.CubeList" title="iris.cube.CubeList"><code class="xref py py-class docutils literal"><span class="pre">iris.cube.CubeList</span></code></a>):</dt>
<dd>A <a class="reference internal" href="../cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal"><span class="pre">iris.cube.Cube</span></code></a>, <a class="reference internal" href="../cube.html#iris.cube.CubeList" title="iris.cube.CubeList"><code class="xref py py-class docutils literal"><span class="pre">iris.cube.CubeList</span></code></a> or other
iterable of cubes to be saved to a netCDF file.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>filename (string):</dt>
<dd>Name of the netCDF file to save the cube(s).</dd>
</dl>
</li>
</ul>
<p>Kwargs:</p>
<ul>
<li><dl class="first docutils">
<dt>netcdf_format (string):</dt>
<dd><p class="first last">Underlying netCDF file format, one of ‘NETCDF4’, ‘NETCDF4_CLASSIC’,
‘NETCDF3_CLASSIC’ or ‘NETCDF3_64BIT’. Default is ‘NETCDF4’ format.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>local_keys (iterable of strings):</dt>
<dd><p class="first last">An interable of cube attribute keys. Any cube attributes with
matching keys will become attributes on the data variable rather
than global attributes.</p>
</dd>
</dl>
</li>
<li><p class="first">unlimited_dimensions (iterable of strings and/or
<a class="reference internal" href="../coords.html#iris.coords.Coord" title="iris.coords.Coord"><code class="xref py py-class docutils literal"><span class="pre">iris.coords.Coord</span></code></a> objects):</p>
<blockquote>
<div><p>List of coordinate names (or coordinate objects) corresponding
to coordinate dimensions of <cite>cube</cite> to save with the NetCDF dimension
variable length ‘UNLIMITED’. By default, no unlimited dimensions are
saved. Only the ‘NETCDF4’ format supports multiple ‘UNLIMITED’
dimensions.</p>
</div></blockquote>
</li>
<li><dl class="first docutils">
<dt>zlib (bool):</dt>
<dd><p class="first last">If <cite>True</cite>, the data will be compressed in the netCDF file using gzip
compression (default <cite>False</cite>).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>complevel (int):</dt>
<dd><p class="first last">An integer between 1 and 9 describing the level of compression desired
(default 4). Ignored if <cite>zlib=False</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>shuffle (bool):</dt>
<dd><p class="first last">If <cite>True</cite>, the HDF5 shuffle filter will be applied before compressing
the data (default <cite>True</cite>). This significantly improves compression.
Ignored if <cite>zlib=False</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>fletcher32 (bool):</dt>
<dd><p class="first last">If <cite>True</cite>, the Fletcher32 HDF5 checksum algorithm is activated to
detect errors. Default <cite>False</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>contiguous (bool):</dt>
<dd><p class="first last">If <cite>True</cite>, the variable data is stored contiguously on disk. Default
<cite>False</cite>. Setting to <cite>True</cite> for a variable with an unlimited dimension
will trigger an error.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>chunksizes (tuple of int):</dt>
<dd><p class="first last">Used to manually specify the HDF5 chunksizes for each dimension of the
variable. A detailed discussion of HDF chunking and I/O performance is
available here: <a class="reference external" href="http://www.hdfgroup.org/HDF5/doc/H5.user/Chunking.html">http://www.hdfgroup.org/HDF5/doc/H5.user/Chunking.html</a>.
Basically, you want the chunk size for each dimension to match as
closely as possible the size of the data block that users will read
from the file. <cite>chunksizes</cite> cannot be set if <cite>contiguous=True</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>endian (string):</dt>
<dd><p class="first last">Used to control whether the data is stored in little or big endian
format on disk. Possible values are ‘little’, ‘big’ or ‘native’
(default). The library will automatically handle endian conversions
when the data is read, but if the data is always going to be read on a
computer with the opposite format as the one used to create the file,
there may be some performance advantage to be gained by setting the
endian-ness.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>least_significant_digit (int):</dt>
<dd><p class="first last">If <cite>least_significant_digit</cite> is specified, variable data will be
truncated (quantized). In conjunction with <cite>zlib=True</cite> this produces
‘lossy’, but significantly more efficient compression. For example, if
<cite>least_significant_digit=1</cite>, data will be quantized using
<cite>numpy.around(scale*data)/scale</cite>, where <cite>scale = 2**bits</cite>, and <cite>bits</cite>
is determined so that a precision of 0.1 is retained (in this case
<cite>bits=4</cite>). From
<a class="reference external" href="http://www.esrl.noaa.gov/psd/data/gridded/conventions/cdc_netcdf_standard.shtml">http://www.esrl.noaa.gov/psd/data/gridded/conventions/cdc_netcdf_standard.shtml</a>:
“least_significant_digit – power of ten of the smallest decimal place
in unpacked data that is a reliable value”. Default is <cite>None</cite>, or no
quantization, or ‘lossless’ compression.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>packing (type or string or dict or list): A numpy integer datatype</dt>
<dd><p class="first last">(signed or unsigned) or a string that describes a numpy integer dtype
(i.e. ‘i2’, ‘short’, ‘u4’) or a dict of packing parameters as described
below or an iterable of such types, strings, or dicts.
This provides support for netCDF data packing as described in
<a class="reference external" href="http://www.unidata.ucar.edu/software/netcdf/docs/BestPractices.html#bp_Packed-Data-Values">http://www.unidata.ucar.edu/software/netcdf/docs/BestPractices.html#bp_Packed-Data-Values</a>
If this argument is a type (or type string), appropriate values of
scale_factor and add_offset will be automatically calculated based
on <cite>cube.data</cite> and possible masking. For more control, pass a dict with
one or more of the following keys: <cite>dtype</cite> (required), <cite>scale_factor</cite>
and <cite>add_offset</cite>. Note that automatic calculation of packing parameters
will trigger loading of lazy data; set them manually using a dict to
avoid this. The default is <cite>None</cite>, in which case the datatype is
determined from the cube and no packing will occur. If this argument is
a list it must have the same number of elements as <cite>cube</cite> if <cite>cube</cite> is
a <cite>:class:`iris.cube.CubeList</cite>, or one element, and each element of
this argument will be applied to each cube separately.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>fill_value (numeric or list):</dt>
<dd><p class="first last">The value to use for the <cite>_FillValue</cite> attribute on the netCDF variable.
If <cite>packing</cite> is specified the value of <cite>fill_value</cite> should be in the
domain of the packed data. If this argument is a list it must have the
same number of elements as <cite>cube</cite> if <cite>cube</cite> is a
<cite>:class:`iris.cube.CubeList</cite>, or a single element, and each element of
this argument will be applied to each cube separately.</p>
</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>Returns:</dt>
<dd>None.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <cite>zlib</cite>, <cite>complevel</cite>, <cite>shuffle</cite>, <cite>fletcher32</cite>, <cite>contiguous</cite>,
<cite>chunksizes</cite> and <cite>endian</cite> keywords are silently ignored for netCDF 3
files that do not use HDF5.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">NetCDF Context manager (<a class="reference internal" href="#iris.fileformats.netcdf.Saver" title="iris.fileformats.netcdf.Saver"><code class="xref py py-class docutils literal"><span class="pre">Saver</span></code></a>).</p>
</div>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><p>Provide a simple CF name to CF coordinate mapping.</p>
<blockquote>
<div><dl class="class">
<dt id="iris.fileformats.netcdf.CFNameCoordMap">
<em class="property">class </em><code class="descclassname">iris.fileformats.netcdf.</code><code class="descname">CFNameCoordMap</code><a class="headerlink" href="#iris.fileformats.netcdf.CFNameCoordMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Provide a simple CF name to CF coordinate mapping.</p>
<dl class="method">
<dt id="iris.fileformats.netcdf.CFNameCoordMap.append">
<code class="descname">append</code><span class="sig-paren">(</span><em>name</em>, <em>coord</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.CFNameCoordMap.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append the given name and coordinate pair to the mapping.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>name:</dt>
<dd>CF name of the associated coordinate.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>coord:</dt>
<dd>The coordinate of the associated CF name.</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>Returns:</dt>
<dd>None.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="iris.fileformats.netcdf.CFNameCoordMap.coord">
<code class="descname">coord</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.CFNameCoordMap.coord" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the coordinate, given a CF name.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>name:</dt>
<dd>CF name of the associated coordinate.</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>Returns:</dt>
<dd>CF name.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="iris.fileformats.netcdf.CFNameCoordMap.name">
<code class="descname">name</code><span class="sig-paren">(</span><em>coord</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.CFNameCoordMap.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the CF name, given a coordinate</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>coord:</dt>
<dd>The coordinate of the associated CF name.</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>Returns:</dt>
<dd>Coordinate.</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.netcdf.CFNameCoordMap.coords">
<code class="descname">coords</code><a class="headerlink" href="#iris.fileformats.netcdf.CFNameCoordMap.coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all the coordinates.</p>
</dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.netcdf.CFNameCoordMap.names">
<code class="descname">names</code><a class="headerlink" href="#iris.fileformats.netcdf.CFNameCoordMap.names" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all the CF names.</p>
</dd></dl>

</dd></dl>

</div></blockquote>
<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><p>A reference to the data payload of a single NetCDF file variable.</p>
<blockquote>
<div><dl class="class">
<dt id="iris.fileformats.netcdf.NetCDFDataProxy">
<em class="property">class </em><code class="descclassname">iris.fileformats.netcdf.</code><code class="descname">NetCDFDataProxy</code><span class="sig-paren">(</span><em>shape</em>, <em>dtype</em>, <em>path</em>, <em>variable_name</em>, <em>fill_value</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.NetCDFDataProxy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>A reference to the data payload of a single NetCDF file variable.</p>
<dl class="attribute">
<dt id="iris.fileformats.netcdf.NetCDFDataProxy.dtype">
<code class="descname">dtype</code><a class="headerlink" href="#iris.fileformats.netcdf.NetCDFDataProxy.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.netcdf.NetCDFDataProxy.fill_value">
<code class="descname">fill_value</code><a class="headerlink" href="#iris.fileformats.netcdf.NetCDFDataProxy.fill_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.netcdf.NetCDFDataProxy.ndim">
<code class="descname">ndim</code><a class="headerlink" href="#iris.fileformats.netcdf.NetCDFDataProxy.ndim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.netcdf.NetCDFDataProxy.path">
<code class="descname">path</code><a class="headerlink" href="#iris.fileformats.netcdf.NetCDFDataProxy.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.netcdf.NetCDFDataProxy.shape">
<code class="descname">shape</code><a class="headerlink" href="#iris.fileformats.netcdf.NetCDFDataProxy.shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.netcdf.NetCDFDataProxy.variable_name">
<code class="descname">variable_name</code><a class="headerlink" href="#iris.fileformats.netcdf.NetCDFDataProxy.variable_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div></blockquote>
<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><p>A manager for saving netcdf files.</p>
<blockquote>
<div><dl class="class">
<dt id="iris.fileformats.netcdf.Saver">
<em class="property">class </em><code class="descclassname">iris.fileformats.netcdf.</code><code class="descname">Saver</code><span class="sig-paren">(</span><em>filename</em>, <em>netcdf_format</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.Saver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>A manager for saving netcdf files.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>filename (string):</dt>
<dd>Name of the netCDF file to save the cube.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>netcdf_format (string):</dt>
<dd>Underlying netCDF file format, one of ‘NETCDF4’, ‘NETCDF4_CLASSIC’,
‘NETCDF3_CLASSIC’ or ‘NETCDF3_64BIT’. Default is ‘NETCDF4’ format.</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>Returns:</dt>
<dd>None.</dd>
</dl>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Initialise Manager for saving</span>
<span class="k">with</span> <span class="n">Saver</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">netcdf_format</span><span class="p">)</span> <span class="k">as</span> <span class="n">sman</span><span class="p">:</span>
    <span class="c1"># Iterate through the cubelist.</span>
    <span class="k">for</span> <span class="n">cube</span> <span class="ow">in</span> <span class="n">cubes</span><span class="p">:</span>
        <span class="n">sman</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cube</span><span class="p">)</span>
</pre></div>
</div>
<dl class="staticmethod">
<dt id="iris.fileformats.netcdf.Saver.check_attribute_compliance">
<em class="property">static </em><code class="descname">check_attribute_compliance</code><span class="sig-paren">(</span><em>container</em>, <em>data</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.Saver.check_attribute_compliance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="iris.fileformats.netcdf.Saver.update_global_attributes">
<code class="descname">update_global_attributes</code><span class="sig-paren">(</span><em>attributes=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.Saver.update_global_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the CF global attributes based on the provided
iterable/dictionary and/or keyword arguments.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>attributes (dict or iterable of key, value pairs):</dt>
<dd>CF global attributes to be updated.</dd>
</dl>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="iris.fileformats.netcdf.Saver.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>cube</em>, <em>local_keys=None</em>, <em>unlimited_dimensions=None</em>, <em>zlib=False</em>, <em>complevel=4</em>, <em>shuffle=True</em>, <em>fletcher32=False</em>, <em>contiguous=False</em>, <em>chunksizes=None</em>, <em>endian='native'</em>, <em>least_significant_digit=None</em>, <em>packing=None</em>, <em>fill_value=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.Saver.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for saving cubes to a NetCDF file.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>cube (<a class="reference internal" href="../cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal"><span class="pre">iris.cube.Cube</span></code></a>):</dt>
<dd>A <a class="reference internal" href="../cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal"><span class="pre">iris.cube.Cube</span></code></a> to be saved to a netCDF file.</dd>
</dl>
</li>
</ul>
<p>Kwargs:</p>
<ul>
<li><dl class="first docutils">
<dt>local_keys (iterable of strings):</dt>
<dd><p class="first last">An interable of cube attribute keys. Any cube attributes with
matching keys will become attributes on the data variable rather
than global attributes.</p>
</dd>
</dl>
</li>
<li><p class="first">unlimited_dimensions (iterable of strings and/or
<a class="reference internal" href="../coords.html#iris.coords.Coord" title="iris.coords.Coord"><code class="xref py py-class docutils literal"><span class="pre">iris.coords.Coord</span></code></a> objects):</p>
<blockquote>
<div><p>List of coordinate names (or coordinate objects)
corresponding to coordinate dimensions of <cite>cube</cite> to save with the
NetCDF dimension variable length ‘UNLIMITED’. By default, no
unlimited dimensions are saved. Only the ‘NETCDF4’ format
supports multiple ‘UNLIMITED’ dimensions.</p>
</div></blockquote>
</li>
<li><dl class="first docutils">
<dt>zlib (bool):</dt>
<dd><p class="first last">If <cite>True</cite>, the data will be compressed in the netCDF file using
gzip compression (default <cite>False</cite>).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>complevel (int):</dt>
<dd><p class="first last">An integer between 1 and 9 describing the level of compression
desired (default 4). Ignored if <cite>zlib=False</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>shuffle (bool):</dt>
<dd><p class="first last">If <cite>True</cite>, the HDF5 shuffle filter will be applied before
compressing the data (default <cite>True</cite>). This significantly improves
compression. Ignored if <cite>zlib=False</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>fletcher32 (bool):</dt>
<dd><p class="first last">If <cite>True</cite>, the Fletcher32 HDF5 checksum algorithm is activated to
detect errors. Default <cite>False</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>contiguous (bool):</dt>
<dd><p class="first last">If <cite>True</cite>, the variable data is stored contiguously on disk.
Default <cite>False</cite>. Setting to <cite>True</cite> for a variable with an unlimited
dimension will trigger an error.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>chunksizes (tuple of int):</dt>
<dd><p class="first last">Used to manually specify the HDF5 chunksizes for each dimension of
the variable. A detailed discussion of HDF chunking and I/O
performance is available here:
<a class="reference external" href="http://www.hdfgroup.org/HDF5/doc/H5.user/Chunking.html">http://www.hdfgroup.org/HDF5/doc/H5.user/Chunking.html</a>. Basically,
you want the chunk size for each dimension to match as closely as
possible the size of the data block that users will read from the
file. <cite>chunksizes</cite> cannot be set if <cite>contiguous=True</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>endian (string):</dt>
<dd><p class="first last">Used to control whether the data is stored in little or big endian
format on disk. Possible values are ‘little’, ‘big’ or ‘native’
(default). The library will automatically handle endian conversions
when the data is read, but if the data is always going to be read
on a computer with the opposite format as the one used to create
the file, there may be some performance advantage to be gained by
setting the endian-ness.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>least_significant_digit (int):</dt>
<dd><p class="first last">If <cite>least_significant_digit</cite> is specified, variable data will be
truncated (quantized). In conjunction with <cite>zlib=True</cite> this
produces ‘lossy’, but significantly more efficient compression. For
example, if <cite>least_significant_digit=1</cite>, data will be quantized
using <cite>numpy.around(scale*data)/scale</cite>, where <cite>scale = 2**bits</cite>,
and <cite>bits</cite> is determined so that a precision of 0.1 is retained (in
this case <cite>bits=4</cite>). From
<a class="reference external" href="http://www.esrl.noaa.gov/psd/data/gridded/conventions/cdc_netcdf_standard.shtml">http://www.esrl.noaa.gov/psd/data/gridded/conventions/cdc_netcdf_standard.shtml</a>:
“least_significant_digit – power of ten of the smallest decimal
place in unpacked data that is a reliable value”. Default is
<cite>None</cite>, or no quantization, or ‘lossless’ compression.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>packing (type or string or dict or list): A numpy integer datatype</dt>
<dd><p class="first last">(signed or unsigned) or a string that describes a numpy integer
dtype(i.e. ‘i2’, ‘short’, ‘u4’) or a dict of packing parameters as
described below. This provides support for netCDF data packing as
described in
<a class="reference external" href="http://www.unidata.ucar.edu/software/netcdf/docs/BestPractices.html#bp_Packed-Data-Values">http://www.unidata.ucar.edu/software/netcdf/docs/BestPractices.html#bp_Packed-Data-Values</a>
If this argument is a type (or type string), appropriate values of
scale_factor and add_offset will be automatically calculated based
on <cite>cube.data</cite> and possible masking. For more control, pass a dict
with one or more of the following keys: <cite>dtype</cite> (required),
<cite>scale_factor</cite> and <cite>add_offset</cite>. Note that automatic calculation of
packing parameters will trigger loading of lazy data; set them
manually using a dict to avoid this. The default is <cite>None</cite>, in
which case the datatype is determined from the cube and no packing
will occur.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>fill_value:</dt>
<dd><p class="first last">The value to use for the <cite>_FillValue</cite> attribute on the netCDF
variable. If <cite>packing</cite> is specified the value of <cite>fill_value</cite>
should be in the domain of the packed data.</p>
</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>Returns:</dt>
<dd>None.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <cite>zlib</cite>, <cite>complevel</cite>, <cite>shuffle</cite>, <cite>fletcher32</cite>, <cite>contiguous</cite>,
<cite>chunksizes</cite> and <cite>endian</cite> keywords are silently ignored for netCDF
3 files that do not use HDF5.</p>
</div>
</dd></dl>

</dd></dl>

</div></blockquote>
<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><p>Base class for warning categories.</p>
<blockquote>
<div><dl class="class">
<dt id="iris.fileformats.netcdf.UnknownCellMethodWarning">
<em class="property">class </em><code class="descclassname">iris.fileformats.netcdf.</code><code class="descname">UnknownCellMethodWarning</code><a class="headerlink" href="#iris.fileformats.netcdf.UnknownCellMethodWarning" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">Warning</span></code></p>
<dl class="method">
<dt id="iris.fileformats.netcdf.UnknownCellMethodWarning.with_traceback">
<code class="descname">with_traceback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.netcdf.UnknownCellMethodWarning.with_traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.netcdf.UnknownCellMethodWarning.args">
<code class="descname">args</code><a class="headerlink" href="#iris.fileformats.netcdf.UnknownCellMethodWarning.args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div></blockquote>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="nimrod.html" title="iris.fileformats.nimrod"
             >next</a> |</li>
        <li class="right" >
          <a href="name_loaders.html" title="iris.fileformats.name_loaders"
             >previous</a> |</li>
        <li><a href="../../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../../../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../../../contents.html">contents</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../../iris.html" >Iris reference documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../fileformats.html" >iris.fileformats</a> &#187;</li> 
      </ul>
    </div>

    <div class="footer">
    <p style="text-align: left; float: left; margin: 0px; padding: 0 0 0 5px;">Documentation licensed under the <a href="http://reference.data.gov.uk/id/open-government-licence" rel="license">Open Government Licence</a></p>
        &copy; <a href="../../../copyright.html">British Crown Copyright</a> 2010 - 2018, Met Office
    </div>


  </body>
</html>