
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>iris.fileformats.pp &#8212; Iris 2.1.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="copyright" title="Copyright" href="../../../copyright.html" />
    <link rel="next" title="iris.fileformats.pp_load_rules" href="pp_load_rules.html" />
    <link rel="prev" title="iris.fileformats.nimrod_load_rules" href="nimrod_load_rules.html" />
 
    <META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
    <META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE"> 

    <link rel="stylesheet" href="../../../_static/style.css" type="text/css" />
    <script type="text/javascript" src="https://docs.python.org/2/_static/copybutton.js"></script>

    <link rel="icon" type="image/png" sizes="32x32" href="../../../_static/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../_static/favicon-16x16.png">

    <link href="https://fonts.googleapis.com/css?family=Alike|Noto+Sans" rel="stylesheet">

  </head><body>

<a href="https://github.com/SciTools/iris">
    <img class="github-forkme" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
         alt="Fork Iris on GitHub" />
</a>


<div class="header-content">
    <a href="../../../index.html">
        <img src="../../../_static/Iris7_1_trim_100.png" alt="Iris logo" />
    </a>
    <div class="strapline">
      <h1>
          Iris <span class="version">v2.1</span>
      </h1>
      <p>
         A powerful, format-agnostic, and community-driven Python library for analysing and
         visualising Earth science data.
      </p>
    </div>
</div>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pp_load_rules.html" title="iris.fileformats.pp_load_rules"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="nimrod_load_rules.html" title="iris.fileformats.nimrod_load_rules"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../../../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../../../contents.html">contents</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../../iris.html" >Iris reference documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../fileformats.html" accesskey="U">iris.fileformats</a> &#187;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="nimrod_load_rules.html"
                        title="previous chapter">iris.fileformats.nimrod_load_rules</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="pp_load_rules.html"
                        title="next chapter">iris.fileformats.pp_load_rules</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/iris/iris/fileformats/pp.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="iris-fileformats-pp">
<span id="id1"></span><h1>iris.fileformats.pp<a class="headerlink" href="#iris-fileformats-pp" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-iris.fileformats.pp"></span><p>Provides UK Met Office Post Process (PP) format specific capabilities.</p>
<p>In this module:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#iris.fileformats.pp.load" title="iris.fileformats.pp.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a></li>
<li><a class="reference internal" href="#iris.fileformats.pp.save" title="iris.fileformats.pp.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a></li>
<li><a class="reference internal" href="#iris.fileformats.pp.load_cubes" title="iris.fileformats.pp.load_cubes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_cubes</span></code></a></li>
<li><a class="reference internal" href="#iris.fileformats.pp.PPField" title="iris.fileformats.pp.PPField"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PPField</span></code></a></li>
<li><a class="reference internal" href="#iris.fileformats.pp.as_fields" title="iris.fileformats.pp.as_fields"><code class="xref py py-obj docutils literal notranslate"><span class="pre">as_fields</span></code></a></li>
<li><a class="reference internal" href="#iris.fileformats.pp.load_pairs_from_fields" title="iris.fileformats.pp.load_pairs_from_fields"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_pairs_from_fields</span></code></a></li>
<li><a class="reference internal" href="#iris.fileformats.pp.save_pairs_from_cube" title="iris.fileformats.pp.save_pairs_from_cube"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_pairs_from_cube</span></code></a></li>
<li><a class="reference internal" href="#iris.fileformats.pp.save_fields" title="iris.fileformats.pp.save_fields"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_fields</span></code></a></li>
<li><a class="reference internal" href="#iris.fileformats.pp.STASH" title="iris.fileformats.pp.STASH"><code class="xref py py-obj docutils literal notranslate"><span class="pre">STASH</span></code></a></li>
<li><a class="reference internal" href="#iris.fileformats.pp.EARTH_RADIUS" title="iris.fileformats.pp.EARTH_RADIUS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">EARTH_RADIUS</span></code></a></li>
</ul>
</div></blockquote>
<dl class="function">
<dt id="iris.fileformats.pp.load">
<code class="descclassname">iris.fileformats.pp.</code><code class="descname">load</code><span class="sig-paren">(</span><em>filename</em>, <em>read_data=False</em>, <em>little_ended=False</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.pp.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an iterator of PPFields given a filename.</p>
<p>Args:</p>
<ul class="simple">
<li>filename - string of the filename to load.</li>
</ul>
<p>Kwargs:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>read_data - boolean</dt>
<dd>Flag whether or not the data should be read, if False an empty
data manager will be provided which can subsequently load the data
on demand. Default False.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>little_ended - boolean</dt>
<dd>If True, file contains all little-ended words (header and data).</dd>
</dl>
</li>
</ul>
<p>To iterate through all of the fields in a pp file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">iris</span><span class="o">.</span><span class="n">fileformats</span><span class="o">.</span><span class="n">pp</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.fileformats.pp.save">
<code class="descclassname">iris.fileformats.pp.</code><code class="descname">save</code><span class="sig-paren">(</span><em>cube</em>, <em>target</em>, <em>append=False</em>, <em>field_coords=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.pp.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the PP saving rules (and any user rules) to save a cube to a PP file.</p>
<p>Args:</p>
<blockquote>
<div><ul class="simple">
<li>cube         - A <a class="reference internal" href="../cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.cube.Cube</span></code></a></li>
<li>target       - A filename or open file handle.</li>
</ul>
</div></blockquote>
<p>Kwargs:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt>append       - Whether to start a new file afresh or add the cube(s)</dt>
<dd>to the end of the file.
Only applicable when target is a filename, not a file
handle.
Default is False.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>field_coords - list of 2 coords or coord names which are to be used</dt>
<dd>for reducing the given cube into 2d slices,
which will ultimately determine the x and y
coordinates of the resulting fields.
If None, the final two  dimensions are chosen
for slicing.</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>See also <a class="reference internal" href="../io.html#iris.io.save" title="iris.io.save"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.io.save()</span></code></a>.</p>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.fileformats.pp.load_cubes">
<code class="descclassname">iris.fileformats.pp.</code><code class="descname">load_cubes</code><span class="sig-paren">(</span><em>filenames</em>, <em>callback=None</em>, <em>constraints=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.pp.load_cubes" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads cubes from a list of pp filenames.</p>
<p>Args:</p>
<ul class="simple">
<li>filenames - list of pp filenames to load</li>
</ul>
<p>Kwargs:</p>
<ul class="simple">
<li>constraints - a list of Iris constraints</li>
<li><dl class="first docutils">
<dt>callback - a function which can be passed on to</dt>
<dd><a class="reference internal" href="../io.html#iris.io.run_callback" title="iris.io.run_callback"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.io.run_callback()</span></code></a></dd>
</dl>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The resultant cubes may not be in the order that they are in the file
(order is not preserved when there is a field with orography
references)</p>
</div>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><p>A generic class for PP fields - not specific to a particular
header release number.</p>
<p>A PPField instance can easily access the PP header “words” as attributes
with some added useful capabilities:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">iris</span><span class="o">.</span><span class="n">fileformats</span><span class="o">.</span><span class="n">pp</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">lbyr</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">lbuser</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">lbuser</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">lbtim</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">lbtim</span><span class="o">.</span><span class="n">ia</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">t1</span><span class="p">)</span>
</pre></div>
</div>
<blockquote>
<div><dl class="class">
<dt id="iris.fileformats.pp.PPField">
<em class="property">class </em><code class="descclassname">iris.fileformats.pp.</code><code class="descname">PPField</code><span class="sig-paren">(</span><em>header=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.pp.PPField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A generic class for PP fields - not specific to a particular
header release number.</p>
<p>A PPField instance can easily access the PP header “words” as attributes
with some added useful capabilities:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">iris</span><span class="o">.</span><span class="n">fileformats</span><span class="o">.</span><span class="n">pp</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">lbyr</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">lbuser</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">lbuser</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">lbtim</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">lbtim</span><span class="o">.</span><span class="n">ia</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">t1</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="iris.fileformats.pp.PPField.coord_system">
<code class="descname">coord_system</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.pp.PPField.coord_system" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a CoordSystem for this PPField.</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>Currently, a <a class="reference internal" href="../coord_systems.html#iris.coord_systems.GeogCS" title="iris.coord_systems.GeogCS"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeogCS</span></code></a> or
<a class="reference internal" href="../coord_systems.html#iris.coord_systems.RotatedGeogCS" title="iris.coord_systems.RotatedGeogCS"><code class="xref py py-class docutils literal notranslate"><span class="pre">RotatedGeogCS</span></code></a>.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="iris.fileformats.pp.PPField.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.pp.PPField.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a deep copy of this PPField.</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>A copy instance of the <a class="reference internal" href="#iris.fileformats.pp.PPField" title="iris.fileformats.pp.PPField"><code class="xref py py-class docutils literal notranslate"><span class="pre">PPField</span></code></a>.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="iris.fileformats.pp.PPField.core_data">
<code class="descname">core_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.pp.PPField.core_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="iris.fileformats.pp.PPField.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>file_handle</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.pp.PPField.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the PPField to the given file object
(typically created with <a class="reference external" href="https://docs.python.org/2.7/library/functions.html#open" title="(in Python v2.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># to append the field to a file</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;ab&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>
    <span class="n">a_pp_field</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">fh</span><span class="p">)</span>

<span class="c1"># to overwrite/create a file</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>
    <span class="n">a_pp_field</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">fh</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The fields which are automatically calculated are: ‘lbext’,
‘lblrec’ and ‘lbuser[0]’. Some fields are not currently
populated, these are: ‘lbegin’, ‘lbnrec’, ‘lbuser[1]’.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="iris.fileformats.pp.PPField.time_unit">
<code class="descname">time_unit</code><span class="sig-paren">(</span><em>time_unit</em>, <em>epoch='epoch'</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.pp.PPField.time_unit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.pp.PPField.calendar">
<code class="descname">calendar</code><a class="headerlink" href="#iris.fileformats.pp.PPField.calendar" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the calendar of the field.</p>
</dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.pp.PPField.data">
<code class="descname">data</code><a class="headerlink" href="#iris.fileformats.pp.PPField.data" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> representing the multidimensional data
of the pp file</p>
</dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.pp.PPField.lbcode">
<code class="descname">lbcode</code><a class="headerlink" href="#iris.fileformats.pp.PPField.lbcode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.pp.PPField.lbpack">
<code class="descname">lbpack</code><a class="headerlink" href="#iris.fileformats.pp.PPField.lbpack" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.pp.PPField.lbproc">
<code class="descname">lbproc</code><a class="headerlink" href="#iris.fileformats.pp.PPField.lbproc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.pp.PPField.lbtim">
<code class="descname">lbtim</code><a class="headerlink" href="#iris.fileformats.pp.PPField.lbtim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.pp.PPField.stash">
<code class="descname">stash</code><a class="headerlink" href="#iris.fileformats.pp.PPField.stash" title="Permalink to this definition">¶</a></dt>
<dd><p>A stash property giving access to the associated STASH object,
now supporting __eq__</p>
</dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.pp.PPField.t1">
<code class="descname">t1</code><a class="headerlink" href="#iris.fileformats.pp.PPField.t1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.pp.PPField.t2">
<code class="descname">t2</code><a class="headerlink" href="#iris.fileformats.pp.PPField.t2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.pp.PPField.x_bounds">
<code class="descname">x_bounds</code><a class="headerlink" href="#iris.fileformats.pp.PPField.x_bounds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.pp.PPField.y_bounds">
<code class="descname">y_bounds</code><a class="headerlink" href="#iris.fileformats.pp.PPField.y_bounds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div></blockquote>
<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.fileformats.pp.as_fields">
<code class="descclassname">iris.fileformats.pp.</code><code class="descname">as_fields</code><span class="sig-paren">(</span><em>cube</em>, <em>field_coords=None</em>, <em>target=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.pp.as_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the PP saving rules (and any user rules) to convert a cube to
an iterable of PP fields.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>cube:</dt>
<dd>A <a class="reference internal" href="../cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.cube.Cube</span></code></a></dd>
</dl>
</li>
</ul>
<p>Kwargs:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>field_coords:</dt>
<dd>List of 2 coords or coord names which are to be used for
reducing the given cube into 2d slices, which will ultimately
determine the x and y coordinates of the resulting fields.
If None, the final two  dimensions are chosen for slicing.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>target:</dt>
<dd>A filename or open file handle.</dd>
</dl>
</li>
</ul>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.fileformats.pp.load_pairs_from_fields">
<code class="descclassname">iris.fileformats.pp.</code><code class="descname">load_pairs_from_fields</code><span class="sig-paren">(</span><em>pp_fields</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.pp.load_pairs_from_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an iterable of PP fields into an iterable of tuples of
(Cubes, PPField).</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>pp_fields:</dt>
<dd>An iterable of <a class="reference internal" href="#iris.fileformats.pp.PPField" title="iris.fileformats.pp.PPField"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.fileformats.pp.PPField</span></code></a>.</dd>
</dl>
</li>
</ul>
<dl class="docutils">
<dt>Returns:</dt>
<dd>An iterable of :class:<a href="#id2"><span class="problematic" id="id3">`</span></a>iris.cube.Cube`s.</dd>
</dl>
<p>This capability can be used to filter out fields before they are passed to
the load pipeline, and amend the cubes once they are created, using
PP metadata conditions.  Where this filtering
removes a significant number of fields, the speed up to load can be
significant:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">iris</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">iris.fileformats.pp</span> <span class="kn">import</span> <span class="n">load_pairs_from_fields</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filename</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">sample_data_path</span><span class="p">(</span><span class="s1">&#39;E1.2098.pp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filtered_fields</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">iris</span><span class="o">.</span><span class="n">fileformats</span><span class="o">.</span><span class="n">pp</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">lbproc</span> <span class="o">==</span> <span class="mi">128</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">filtered_fields</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cube_field_pairs</span> <span class="o">=</span> <span class="n">load_pairs_from_fields</span><span class="p">(</span><span class="n">filtered_fields</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">cube</span><span class="p">,</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">cube_field_pairs</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">cube</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="s1">&#39;lbproc&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">lbproc</span>
<span class="gp">... </span>    <span class="k">print</span><span class="p">(</span><span class="n">cube</span><span class="o">.</span><span class="n">attributes</span><span class="p">[</span><span class="s1">&#39;lbproc&#39;</span><span class="p">])</span>
<span class="go">128</span>
</pre></div>
</div>
<p>This capability can also be used to alter fields before they are passed to
the load pipeline.  Fields with out of specification header elements can
be cleaned up this way and cubes created:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">filename</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">sample_data_path</span><span class="p">(</span><span class="s1">&#39;E1.2098.pp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cleaned_fields</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">fileformats</span><span class="o">.</span><span class="n">pp</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">cleaned_fields</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">lbrel</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">field</span><span class="o">.</span><span class="n">lbrel</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cubes_field_pairs</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">load_pairs_from_fields</span><span class="p">(</span><span class="n">cleaned_fields</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.fileformats.pp.save_pairs_from_cube">
<code class="descclassname">iris.fileformats.pp.</code><code class="descname">save_pairs_from_cube</code><span class="sig-paren">(</span><em>cube</em>, <em>field_coords=None</em>, <em>target=None</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.pp.save_pairs_from_cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the PP saving rules to convert a cube or
iterable of cubes to an iterable of (2D cube, PP field) pairs.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>cube:</dt>
<dd>A <a class="reference internal" href="../cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.cube.Cube</span></code></a></dd>
</dl>
</li>
</ul>
<p>Kwargs:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>field_coords:</dt>
<dd>List of 2 coords or coord names which are to be used for
reducing the given cube into 2d slices, which will ultimately
determine the x and y coordinates of the resulting fields.
If None, the final two  dimensions are chosen for slicing.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>target:</dt>
<dd>A filename or open file handle.</dd>
</dl>
</li>
</ul>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="function">
<dt id="iris.fileformats.pp.save_fields">
<code class="descclassname">iris.fileformats.pp.</code><code class="descname">save_fields</code><span class="sig-paren">(</span><em>fields</em>, <em>target</em>, <em>append=False</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.pp.save_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Save an iterable of PP fields to a PP file.</p>
<p>Args:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>fields:</dt>
<dd>An iterable of PP fields.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>target:</dt>
<dd>A filename or open file handle.</dd>
</dl>
</li>
</ul>
<p>Kwargs:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>append:</dt>
<dd>Whether to start a new file afresh or add the cube(s) to the end
of the file.
Only applicable when target is a filename, not a file handle.
Default is False.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>callback:</dt>
<dd>A modifier/filter function.</dd>
</dl>
</li>
</ul>
<p>See also <a class="reference internal" href="../io.html#iris.io.save" title="iris.io.save"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.io.save()</span></code></a>.</p>
</dd></dl>

<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><p>A class to hold a single STASH code.</p>
<dl class="docutils">
<dt>Create instances using:</dt>
<dd><div class="first last highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">section</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_stash</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">fileformats</span><span class="o">.</span><span class="n">pp</span><span class="o">.</span><span class="n">STASH</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">section</span><span class="p">,</span> <span class="n">item</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Access the sub-components via:</dt>
<dd><div class="first last highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_stash</span><span class="o">.</span><span class="n">model</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_stash</span><span class="o">.</span><span class="n">section</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_stash</span><span class="o">.</span><span class="n">item</span>
<span class="go">3</span>
</pre></div>
</div>
</dd>
<dt>String conversion results in the MSI format:</dt>
<dd><div class="first last highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">fileformats</span><span class="o">.</span><span class="n">pp</span><span class="o">.</span><span class="n">STASH</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">203</span><span class="p">))</span>
<span class="go">m01s16i203</span>
</pre></div>
</div>
</dd>
</dl>
<blockquote>
<div><dl class="class">
<dt id="iris.fileformats.pp.STASH">
<em class="property">class </em><code class="descclassname">iris.fileformats.pp.</code><code class="descname">STASH</code><span class="sig-paren">(</span><em>model</em>, <em>section</em>, <em>item</em><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.pp.STASH" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#iris.fileformats.pp.STASH" title="iris.fileformats.pp.STASH"><code class="xref py py-class docutils literal notranslate"><span class="pre">iris.fileformats.pp.STASH</span></code></a></p>
<p>Args:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>model</dt>
<dd>A positive integer less than 100, or None.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>section</dt>
<dd>A non-negative integer less than 100, or None.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>item</dt>
<dd>A positive integer less than 1000, or None.</dd>
</dl>
</li>
</ul>
<dl class="method">
<dt id="iris.fileformats.pp.STASH.count">
<code class="descname">count</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span> &#x2192; integer -- return number of occurrences of value<a class="headerlink" href="#iris.fileformats.pp.STASH.count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="iris.fileformats.pp.STASH.from_msi">
<em class="property">static </em><code class="descname">from_msi</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.pp.STASH.from_msi" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a STASH code MSI string to a STASH instance.</p>
</dd></dl>

<dl class="method">
<dt id="iris.fileformats.pp.STASH.index">
<code class="descname">index</code><span class="sig-paren">(</span><em>value</em><span class="optional">[</span>, <em>start</em><span class="optional">[</span>, <em>stop</em><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span> &#x2192; integer -- return first index of value.<a class="headerlink" href="#iris.fileformats.pp.STASH.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises ValueError if the value is not present.</p>
</dd></dl>

<dl class="method">
<dt id="iris.fileformats.pp.STASH.lbuser3">
<code class="descname">lbuser3</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.pp.STASH.lbuser3" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lbuser[3] value that this stash represents.</p>
</dd></dl>

<dl class="method">
<dt id="iris.fileformats.pp.STASH.lbuser6">
<code class="descname">lbuser6</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#iris.fileformats.pp.STASH.lbuser6" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lbuser[6] value that this stash represents.</p>
</dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.pp.STASH.is_valid">
<code class="descname">is_valid</code><a class="headerlink" href="#iris.fileformats.pp.STASH.is_valid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.pp.STASH.item">
<code class="descname">item</code><a class="headerlink" href="#iris.fileformats.pp.STASH.item" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.pp.STASH.model">
<code class="descname">model</code><a class="headerlink" href="#iris.fileformats.pp.STASH.model" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="iris.fileformats.pp.STASH.section">
<code class="descname">section</code><a class="headerlink" href="#iris.fileformats.pp.STASH.section" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

</div></blockquote>
<p class="hr_p"><a href="#">&uarr;&#32&#32 top &#32&#32&uarr;</a></p>
<!--<hr class="docutils" />
--><dl class="data">
<dt id="iris.fileformats.pp.EARTH_RADIUS">
<code class="descclassname">iris.fileformats.pp.</code><code class="descname">EARTH_RADIUS</code><a class="headerlink" href="#iris.fileformats.pp.EARTH_RADIUS" title="Permalink to this definition">¶</a></dt>
<dd><p>float(x) -&gt; floating point number</p>
<p>Convert a string or number to a floating point number, if possible.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pp_load_rules.html" title="iris.fileformats.pp_load_rules"
             >next</a> |</li>
        <li class="right" >
          <a href="nimrod_load_rules.html" title="iris.fileformats.nimrod_load_rules"
             >previous</a> |</li>
        <li><a href="../../../index.html">home</a>|&nbsp;</li>
        <li><a href="../../../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../../../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../../../contents.html">contents</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="../../iris.html" >Iris reference documentation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../fileformats.html" >iris.fileformats</a> &#187;</li> 
      </ul>
    </div>

    <div class="footer">
    <p style="text-align: left; float: left; margin: 0px; padding: 0 0 0 5px;">Documentation licensed under the <a href="http://reference.data.gov.uk/id/open-government-licence" rel="license">Open Government Licence</a></p>
        &copy; <a href="../../../copyright.html">British Crown Copyright</a> 2010 - 2018, Met Office
    </div>

    <!-- Include a version switcher to easily move between the documentation of different versions -->
    <script type=text/javascript src="/iris/docs/version_switch.js" async></script>

  </body>
</html>