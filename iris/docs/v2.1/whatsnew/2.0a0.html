
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>What’s New in Iris 2.0a0 &#8212; Iris 2.0a0 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0a0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="What’s New in Iris 1.13" href="1.13.html" />
    <link rel="prev" title="What’s new in Iris" href="index.html" />
 
    <META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
    <META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE"> 

    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <script type="text/javascript" src="http://docs.python.org/2/_static/copybutton.js"></script>

  </head>
  <body>
<div style="background-color: white; text-align: left; padding: 1px 10px 1px 15px">
<p style="margin-left: 15px; font-weight:bolder; letter-spacing:0.1ex;">
<a href="../index.html"><img src="../_static/Iris7_1_trim_100.png" width=101 height=100 border="0" style="vertical-align:middle" alt="Logo"/></a>
<span style="font-size: 400%; vertical-align:middle"> Iris 2.0a0 </span>
</p>

</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="1.13.html" title="What’s New in Iris 1.13"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="What’s new in Iris"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../contents.html">contents</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">What’s new in Iris</a> &#187;</li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">What’s New in Iris 2.0a0</a><ul>
<li><a class="reference internal" href="#iris-2-0a0-features">Iris 2.0a0 Features</a></li>
<li><a class="reference internal" href="#bugs-fixed">Bugs Fixed</a></li>
<li><a class="reference internal" href="#incompatible-changes">Incompatible Changes</a></li>
<li><a class="reference internal" href="#deprecations">Deprecations</a></li>
<li><a class="reference internal" href="#documentation-changes">Documentation Changes</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">What’s new in Iris</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="1.13.html"
                        title="next chapter">What’s New in Iris 1.13</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/whatsnew/2.0a0.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="what-s-new-in-iris-2-0a0">
<h1>What’s New in Iris 2.0a0<a class="headerlink" href="#what-s-new-in-iris-2-0a0" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Release:</th><td class="field-body">2.0a0 (<strong>alpha pre-release</strong>)</td>
</tr>
<tr class="field-even field"><th class="field-name">Date:</th><td class="field-body">2017-07-03</td>
</tr>
</tbody>
</table>
<p>This document explains the new/changed features of Iris in version 2.0a0
(<a class="reference internal" href="index.html"><span class="doc">View all changes</span></a>).</p>
<div class="section" id="iris-2-0a0-features">
<h2>Iris 2.0a0 Features<a class="headerlink" href="#iris-2-0a0-features" title="Permalink to this headline">¶</a></h2>
<div class="admonition-showcase-feature-dask-integration admonition" id="showcase">
<p class="first admonition-title">Showcase Feature - Dask Integration</p>
<p>The use of <a class="reference external" href="https://biggus.readthedocs.io/en/latest/">Biggus</a> to provide support for <em>virtual arrays</em> and
<em>lazy evaluation</em> within Iris has been replaced with <a class="reference external" href="http://dask.pydata.org/en/latest/">Dask</a>.</p>
<p>In addition the concept of <em>lazy data</em>, already used for the
<a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal"><span class="pre">Cube</span></code></a> data component, has now been extended to the data array
in a <a class="reference internal" href="../iris/iris/coords.html#iris.coords.Coord" title="iris.coords.Coord"><code class="xref py py-class docutils literal"><span class="pre">Coord</span></code></a> and an <a class="reference internal" href="../iris/iris/aux_factory.html#iris.aux_factory.AuxCoordFactory" title="iris.aux_factory.AuxCoordFactory"><code class="xref py py-class docutils literal"><span class="pre">AuxCoordFactory</span></code></a>.</p>
<p>This is a major feature enhancement, because basing Iris data in Dask
allows Iris to easily leverage its rich functionality and capabilities.
In particular, Dask’s <em>threaded</em>, <em>multiprocessing</em> or <em>distributed</em>
<a class="reference external" href="http://dask.pydata.org/en/latest/scheduler-overview.html">schedulers</a> can be used in order to fully exploit the available compute
resource.</p>
<p class="last">For fuller details, see <a class="reference internal" href="../userguide/real_and_lazy_data.html"><span class="doc">Real and Lazy Data</span></a>.</p>
</div>
<ul class="simple">
<li>Changes to the <a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal"><span class="pre">iris.cube.Cube</span></code></a>:<ul>
<li>A <a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal"><span class="pre">Cube</span></code></a> now accepts the <em>new</em> kwargs <code class="xref py py-data docutils literal"><span class="pre">dtype</span></code> and
<code class="xref py py-data docutils literal"><span class="pre">fill_value</span></code>.</li>
<li>The <a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube.copy" title="iris.cube.Cube.copy"><code class="xref py py-meth docutils literal"><span class="pre">copy()</span></code></a> method now accepts the <em>new</em> kwargs
<code class="xref py py-data docutils literal"><span class="pre">dtype</span></code> and <code class="xref py py-data docutils literal"><span class="pre">fill_value</span></code>.</li>
<li>The <em>new</em> <a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube.core_data" title="iris.cube.Cube.core_data"><code class="xref py py-meth docutils literal"><span class="pre">core_data()</span></code></a> method returns the <em>real</em> or
<em>lazy</em> <a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal"><span class="pre">Cube</span></code></a> <code class="xref py py-data docutils literal"><span class="pre">data</span></code>.</li>
<li>The <em>new</em> <code class="xref py py-attr docutils literal"><span class="pre">fill_value</span></code> property (read-write) controls
the <code class="xref py py-data docutils literal"><span class="pre">fill_value</span></code> used for any masked <a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal"><span class="pre">Cube</span></code></a>
<code class="xref py py-data docutils literal"><span class="pre">data</span></code>.</li>
<li>The <em>new</em> <code class="xref py py-meth docutils literal"><span class="pre">replace()</span></code> method performs in-place
replacement of <a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal"><span class="pre">Cube</span></code></a> <code class="xref py py-data docutils literal"><span class="pre">data</span></code>.</li>
<li>The <em>new</em> in-place arithmetic operators <code class="xref py py-data docutils literal"><span class="pre">__iadd__</span></code>, <code class="xref py py-data docutils literal"><span class="pre">__idiv__</span></code>,
<code class="xref py py-data docutils literal"><span class="pre">__imul__</span></code>, <code class="xref py py-data docutils literal"><span class="pre">__isub__</span></code>, and <code class="xref py py-data docutils literal"><span class="pre">__itruediv__</span></code> have been
added to support <a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal"><span class="pre">Cube</span></code></a> operations <code class="xref py py-data docutils literal"><span class="pre">+=</span></code>,
<code class="xref py py-data docutils literal"><span class="pre">/=</span></code>, <code class="xref py py-data docutils literal"><span class="pre">*=</span></code>, and <code class="xref py py-data docutils literal"><span class="pre">-=</span></code>. Note that, for <strong>divison</strong>
<em>__future__.division</em> is always in effect.</li>
</ul>
</li>
<li>Changes to the <a class="reference internal" href="../iris/iris/coords.html#iris.coords.Coord" title="iris.coords.Coord"><code class="xref py py-class docutils literal"><span class="pre">iris.coords.Coord</span></code></a>:<ul>
<li>The <em>new</em> <a class="reference internal" href="../iris/iris/coords.html#iris.coords.Coord.bounds_dtype" title="iris.coords.Coord.bounds_dtype"><code class="xref py py-attr docutils literal"><span class="pre">bounds_dtype</span></code></a> property (read-only)
provides the <code class="xref py py-data docutils literal"><span class="pre">dtype</span></code> of the coordinate bounds, if they exist.</li>
<li>The <em>new</em> <a class="reference internal" href="../iris/iris/coords.html#iris.coords.Coord.core_points" title="iris.coords.Coord.core_points"><code class="xref py py-meth docutils literal"><span class="pre">core_points()</span></code></a> and
<a class="reference internal" href="../iris/iris/coords.html#iris.coords.Coord.core_bounds" title="iris.coords.Coord.core_bounds"><code class="xref py py-meth docutils literal"><span class="pre">core_bounds()</span></code></a> methods return the <em>real</em> or <em>lazy</em>
<a class="reference internal" href="../iris/iris/coords.html#iris.coords.Coord" title="iris.coords.Coord"><code class="xref py py-class docutils literal"><span class="pre">Coord</span></code></a> <code class="xref py py-data docutils literal"><span class="pre">points</span></code> and <code class="xref py py-data docutils literal"><span class="pre">bounds</span></code> data,
respectively.</li>
<li>The <em>new</em> <a class="reference internal" href="../iris/iris/coords.html#iris.coords.Coord.has_lazy_points" title="iris.coords.Coord.has_lazy_points"><code class="xref py py-meth docutils literal"><span class="pre">has_lazy_points()</span></code></a> and
<a class="reference internal" href="../iris/iris/coords.html#iris.coords.Coord.has_lazy_bounds" title="iris.coords.Coord.has_lazy_bounds"><code class="xref py py-meth docutils literal"><span class="pre">has_lazy_bounds()</span></code></a> boolean methods return whether
the coordinate has <em>lazy</em> <code class="xref py py-data docutils literal"><span class="pre">points</span></code> and <em>lazy</em> <code class="xref py py-data docutils literal"><span class="pre">bounds</span></code> data,
respectively.</li>
<li>The <em>new</em> <a class="reference internal" href="../iris/iris/coords.html#iris.coords.Coord.lazy_points" title="iris.coords.Coord.lazy_points"><code class="xref py py-meth docutils literal"><span class="pre">lazy_points()</span></code></a> and
<a class="reference internal" href="../iris/iris/coords.html#iris.coords.Coord.lazy_bounds" title="iris.coords.Coord.lazy_bounds"><code class="xref py py-meth docutils literal"><span class="pre">lazy_bounds()</span></code></a> methods return <em>lazy</em>
representations of the coordinate <code class="xref py py-data docutils literal"><span class="pre">points</span></code> and <code class="xref py py-data docutils literal"><span class="pre">bounds</span></code> data,
respectively.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="bugs-fixed">
<h2>Bugs Fixed<a class="headerlink" href="#bugs-fixed" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Indexing or slicing an <a class="reference internal" href="../iris/iris/coords.html#iris.coords.AuxCoord" title="iris.coords.AuxCoord"><code class="xref py py-class docutils literal"><span class="pre">AuxCoord</span></code></a> coordinate will return a coordinate with
<code class="xref py py-data docutils literal"><span class="pre">points</span></code> and <code class="xref py py-data docutils literal"><span class="pre">bounds</span></code> data that are new copied arrays, rather than views onto those of
the original parent coordinate.</li>
<li>Indexing or slicing a cell measure will return a new cell measure with
<code class="xref py py-data docutils literal"><span class="pre">data</span></code> that is a new copied array, rather than a view onto the original parent cell measure.</li>
<li>Performing an in-place arithmetic <a class="reference internal" href="../iris/iris/analysis/maths.html#iris.analysis.maths.add" title="iris.analysis.maths.add"><code class="xref py py-func docutils literal"><span class="pre">add()</span></code></a>,
<a class="reference internal" href="../iris/iris/analysis/maths.html#iris.analysis.maths.divide" title="iris.analysis.maths.divide"><code class="xref py py-func docutils literal"><span class="pre">divide()</span></code></a>, <a class="reference internal" href="../iris/iris/analysis/maths.html#iris.analysis.maths.multiply" title="iris.analysis.maths.multiply"><code class="xref py py-func docutils literal"><span class="pre">multiply()</span></code></a>,
or <a class="reference internal" href="../iris/iris/analysis/maths.html#iris.analysis.maths.subtract" title="iris.analysis.maths.subtract"><code class="xref py py-func docutils literal"><span class="pre">subtract()</span></code></a> operation on a
<a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube" title="iris.cube.Cube"><code class="xref py py-class docutils literal"><span class="pre">Cube</span></code></a> with <code class="xref py py-data docutils literal"><span class="pre">integer</span></code> or <code class="xref py py-data docutils literal"><span class="pre">boolean</span></code> data with
a <code class="xref py py-data docutils literal"><span class="pre">float</span></code> result will raise an <code class="xref py py-data docutils literal"><span class="pre">ArithmeticError</span></code> exception.</li>
</ul>
</div>
<div class="section" id="incompatible-changes">
<h2>Incompatible Changes<a class="headerlink" href="#incompatible-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The <a class="reference internal" href="../iris/iris/cube.html#iris.cube.Cube.lazy_data" title="iris.cube.Cube.lazy_data"><code class="xref py py-meth docutils literal"><span class="pre">lazy_data()</span></code></a> method no longer accepts any arguments.</li>
</ul>
<div class="admonition-significant-changes-in-calculated-results admonition">
<p class="first admonition-title">Significant Changes in Calculated Results</p>
<p>Due to the replacement of <a class="reference external" href="https://biggus.readthedocs.io/en/latest/">Biggus</a> with <a class="reference external" href="http://dask.pydata.org/en/latest/">Dask</a>, as described above, the results
of certain types of calculation may have significantly different values from
those obtained in earlier versions.
This is of a much greater order than the usual small changes in floating
point results : it applies especially to any data with masked points, or of
long integer types.</p>
<p>Firstly, as Dask does not natively support masked arrays, Iris is now using
NaNs to represent masked datapoints in most operations.  The effect is that
<strong>any NaN data values may become masked points instead</strong>.
It is still possible to write NaN values into real data arrays, but any
following operation may now convert them to masked points.
This can obviously cause significant problems for any operations where masked
datapoints and NaNs were previously used in distinct ways : in particular,
many Iris regridding operations are significantly altered.</p>
<p>Also, for related reasons, all integer data loaded from files is now
represented internally as floating point.  Although such data will always be
converted back to the original dtype when realised, this can have two
potentially significant effects :  <strong>firstly</strong>, that lazy calculations on
integer data will perform floating-point rather than integer arithmetic
operations; and <strong>secondly</strong> that, in long integer (8 byte) typed data,
values of magnitude more than +/-2^52 (approximately 4.5e+15) may no longer
be represented exactly.</p>
<p class="last">It is hoped that, as Dask matures, it may later be possible to remove these
particular limitations.</p>
</div>
</div>
<div class="section" id="deprecations">
<h2>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The <code class="xref py py-mod docutils literal"><span class="pre">iris.fileformats.grib</span></code> module previously deprecated in
<a class="reference internal" href="1.10.html"><span class="doc">Iris 1.10</span></a> has been reinstated. The use of the
<a class="reference external" href="https://github.com/SciTools/iris-grib/">iris_grib</a> package has now been deprecated.</li>
</ul>
</div>
<div class="section" id="documentation-changes">
<h2>Documentation Changes<a class="headerlink" href="#documentation-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>A new UserGuide chapter on <a class="reference internal" href="../userguide/real_and_lazy_data.html"><span class="doc">Real and Lazy Data</span></a>
has been added, and referenced from key points in the <a class="reference internal" href="../userguide/index.html"><span class="doc">User Guide</span></a> .</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="1.13.html" title="What’s New in Iris 1.13"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="What’s new in Iris"
             >previous</a> |</li>
        <li><a href="../index.html">home</a>|&nbsp;</li>
        <li><a href="../examples/index.html">examples</a>|&nbsp;</li>
        <li><a href="../gallery.html">gallery</a>|&nbsp;</li>
        <li><a href="../contents.html">contents</a>|&nbsp;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >What’s new in Iris</a> &#187;</li> 
      </ul>
    </div>

    <div class="footer">
    <p style="text-align: left; float: left; margin: 0px; padding: 0 0 0 5px;">Documentation licensed under the <a href="http://reference.data.gov.uk/id/open-government-licence" rel="license">Open Government Licence</a></p>
        &copy; <a href="../copyright.html">British Crown Copyright</a> 2010 - 2017, Met Office
    </div>


  </body>
</html>