
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Using cartopy with matplotlib &#8212; cartopy 0.20.0 documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-rendered-html.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="More advanced mapping with cartopy and matplotlib" href="advanced_plotting.html" />
    <link rel="prev" title="Coordinate reference systems" href="../getting_started/crs.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    

    <META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
    <META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE">

    <!-- Point to the *latest* version switcher. This will allow the latest versions to appear on older documentation. -->
    <script type="text/javascript" src="https://scitools.org.uk/cartopy/docs/latest/_static/version_switch.js"></script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../index.html">
  <img src="../_static/cartopy.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../getting_started/index.html">
  Getting started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../gallery/index.html">
  Gallery
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../installing.html">
  Installation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../reference/index.html">
  API reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../whatsnew/index.html">
  What’s new
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/SciTools/cartopy" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started/crs.html">
   Coordinate reference systems
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="current reference internal" href="#">
   Using cartopy with matplotlib
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="advanced_plotting.html">
     More advanced mapping with cartopy and matplotlib
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="gridliner.html">
     Cartopy map gridlines and tick labels
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="feature_interface.html">
   The cartopy Feature interface
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/understanding_transform.html">
   Understanding the
   <code class="docutils literal notranslate">
    <span class="pre">
     transform
    </span>
   </code>
   and
   <code class="docutils literal notranslate">
    <span class="pre">
     projection
    </span>
   </code>
   keywords
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tutorials/using_the_shapereader.html">
   Using the cartopy shapereader
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../developer_interfaces.html">
   Cartopy developer interfaces
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../citation.html">
   Citing cartopy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../copyright.html">
   Cartopy copyright, licensing and contributors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../contributors.html">
   Credits
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#beautifully-simple-maps">
   Beautifully simple maps
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adding-data-to-the-map">
   Adding data to the map
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="using-cartopy-with-matplotlib">
<h1>Using cartopy with matplotlib<a class="headerlink" href="#using-cartopy-with-matplotlib" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="beautifully-simple-maps">
<h2>Beautifully simple maps<a class="headerlink" href="#beautifully-simple-maps" title="Permalink to this headline">¶</a></h2>
<p>Cartopy has exposed an interface to enable easy map creation using matplotlib.
Creating a basic map is as simple as telling Matplotlib to use a specific map projection,
and then adding some coastlines to the axes:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cartopy.crs</span> <span class="k">as</span> <span class="nn">ccrs</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>
<span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>

<span class="c1"># Save the plot by calling plt.savefig() BEFORE plt.show()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;coastlines.pdf&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;coastlines.png&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../matplotlib/intro-1.py">Source code</a>)</p>
<div class="figure align-default">
<img alt="../_images/intro-1.png" class="plot-directive" src="../_images/intro-1.png" />
</div>
<p>A list of the available projections to be used with Matplotlib can be
found on the <a class="reference internal" href="../reference/projections.html#cartopy-projections"><span class="std std-ref">PlateCarree</span></a> page.</p>
<p>The line <code class="docutils literal notranslate"><span class="pre">plt.axes(projection=ccrs.PlateCarree())</span></code> sets up a
<a class="reference internal" href="../reference/generated/cartopy.mpl.geoaxes.GeoAxes.html#cartopy.mpl.geoaxes.GeoAxes" title="cartopy.mpl.geoaxes.GeoAxes"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a> instance
which exposes a variety of other map related methods, in the case of the
previous example, we used the
<a class="reference internal" href="../reference/generated/cartopy.mpl.geoaxes.GeoAxes.html#cartopy.mpl.geoaxes.GeoAxes.coastlines" title="cartopy.mpl.geoaxes.GeoAxes.coastlines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">coastlines()</span></code></a> method
to add coastlines to the map.</p>
<p>To save the figure, use Matplotlib’s <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.savefig.html#matplotlib.pyplot.savefig" title="(in Matplotlib v3.4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">savefig()</span></code></a>
function.</p>
<p>Lets create another map in a different projection, and make use of the
<a class="reference internal" href="../reference/generated/cartopy.mpl.geoaxes.GeoAxes.html#cartopy.mpl.geoaxes.GeoAxes.stock_img" title="cartopy.mpl.geoaxes.GeoAxes.stock_img"><code class="xref py py-meth docutils literal notranslate"><span class="pre">stock_img()</span></code></a> method to add an underlay
image to the map:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cartopy.crs</span> <span class="k">as</span> <span class="nn">ccrs</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">Mollweide</span><span class="p">())</span>
<span class="n">ax</span><span class="o">.</span><span class="n">stock_img</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../matplotlib/intro-2.py">Source code</a>)</p>
<div class="figure align-default">
<img alt="../_images/intro-2.png" class="plot-directive" src="../_images/intro-2.png" />
</div>
<p>At this point, have a go at <a class="reference internal" href="../reference/projections.html#cartopy-projections"><span class="std std-ref">picking your own projection</span></a> and creating a map
with an image underlay with coastlines over the top.</p>
</div>
<div class="section" id="adding-data-to-the-map">
<h2>Adding data to the map<a class="headerlink" href="#adding-data-to-the-map" title="Permalink to this headline">¶</a></h2>
<p>Once you have the map just the way you want it, data can be added to it in exactly the same way as
with normal Matplotlib axes. By default, the coordinate system of any data added to a GeoAxes is
the same as the coordinate system of the GeoAxes itself, to control which coordinate system
that the given data is in, you can add the <code class="docutils literal notranslate"><span class="pre">transform</span></code> keyword with an appropriate
<a class="reference internal" href="../reference/generated/cartopy.crs.CRS.html#cartopy.crs.CRS" title="cartopy.crs.CRS"><code class="xref py py-class docutils literal notranslate"><span class="pre">cartopy.crs.CRS</span></code></a> instance:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cartopy.crs</span> <span class="k">as</span> <span class="nn">ccrs</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>
<span class="n">ax</span><span class="o">.</span><span class="n">stock_img</span><span class="p">()</span>

<span class="n">ny_lon</span><span class="p">,</span> <span class="n">ny_lat</span> <span class="o">=</span> <span class="o">-</span><span class="mi">75</span><span class="p">,</span> <span class="mi">43</span>
<span class="n">delhi_lon</span><span class="p">,</span> <span class="n">delhi_lat</span> <span class="o">=</span> <span class="mf">77.23</span><span class="p">,</span> <span class="mf">28.61</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">ny_lon</span><span class="p">,</span> <span class="n">delhi_lon</span><span class="p">],</span> <span class="p">[</span><span class="n">ny_lat</span><span class="p">,</span> <span class="n">delhi_lat</span><span class="p">],</span>
         <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
         <span class="n">transform</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">Geodetic</span><span class="p">(),</span>
         <span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">ny_lon</span><span class="p">,</span> <span class="n">delhi_lon</span><span class="p">],</span> <span class="p">[</span><span class="n">ny_lat</span><span class="p">,</span> <span class="n">delhi_lat</span><span class="p">],</span>
         <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span>
         <span class="n">transform</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">(),</span>
         <span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">ny_lon</span> <span class="o">-</span> <span class="mi">3</span><span class="p">,</span> <span class="n">ny_lat</span> <span class="o">-</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;New York&#39;</span><span class="p">,</span>
         <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span>
         <span class="n">transform</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">Geodetic</span><span class="p">())</span>

<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">delhi_lon</span> <span class="o">+</span> <span class="mi">3</span><span class="p">,</span> <span class="n">delhi_lat</span> <span class="o">-</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;Delhi&#39;</span><span class="p">,</span>
         <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
         <span class="n">transform</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">Geodetic</span><span class="p">())</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>(<a class="reference external" href="../matplotlib/intro-3.py">Source code</a>)</p>
<div class="figure align-default">
<img alt="../_images/intro-3.png" class="plot-directive" src="../_images/intro-3.png" />
</div>
<p>Notice how the line in blue between New York and Delhi is not straight on a flat
<a class="reference internal" href="../reference/projections.html#cartopy.crs.PlateCarree" title="cartopy.crs.PlateCarree"><code class="xref py py-class docutils literal notranslate"><span class="pre">PlateCarree</span></code></a> map, this is because the
<a class="reference internal" href="../reference/generated/cartopy.crs.Geodetic.html#cartopy.crs.Geodetic" title="cartopy.crs.Geodetic"><code class="xref py py-class docutils literal notranslate"><span class="pre">Geodetic</span></code></a> coordinate system is a truly spherical coordinate
system, where a line between two points is defined as the shortest path between
those points <em>on the globe</em> rather than 2d Cartesian space.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default, Matplotlib automatically sets the limits of your Axes based on the data
that you plot. Because cartopy implements a <a class="reference internal" href="../reference/generated/cartopy.mpl.geoaxes.GeoAxes.html#cartopy.mpl.geoaxes.GeoAxes" title="cartopy.mpl.geoaxes.GeoAxes"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoAxes</span></code></a>
class, this equates to the limits of the resulting map. Sometimes this autoscaling
is a desirable feature and other times it is not.</p>
<p>To set the extents of a cartopy GeoAxes, there are several convenient options:</p>
<blockquote>
<div><ul class="simple">
<li><p>For “global” plots, use the <a class="reference internal" href="../reference/generated/cartopy.mpl.geoaxes.GeoAxes.html#cartopy.mpl.geoaxes.GeoAxes.set_global" title="cartopy.mpl.geoaxes.GeoAxes.set_global"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_global()</span></code></a> method.</p></li>
<li><p>To set the extents of the map based on a bounding box, in any coordinate system,
use the <a class="reference internal" href="../reference/generated/cartopy.mpl.geoaxes.GeoAxes.html#cartopy.mpl.geoaxes.GeoAxes.set_extent" title="cartopy.mpl.geoaxes.GeoAxes.set_extent"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_extent()</span></code></a> method.</p></li>
<li><p>Alternatively, the standard limit setting methods can be used in the GeoAxes’s
native coordinate system (e.g. <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_xlim.html#matplotlib.axes.Axes.set_xlim" title="(in Matplotlib v3.4.3)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_xlim()</span></code></a> and
<a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.set_ylim.html#matplotlib.axes.Axes.set_ylim" title="(in Matplotlib v3.4.3)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_ylim()</span></code></a>).</p></li>
</ul>
</div></blockquote>
</div>
<p>In the <a class="reference internal" href="advanced_plotting.html"><span class="doc">next section</span></a>, examples of contouring and adding
geo-located images are provided for more advanced map based visualisations.</p>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="../getting_started/crs.html" title="previous page">Coordinate reference systems</a>
    <a class='right-next' id="next-link" href="advanced_plotting.html" title="next page">More advanced mapping with cartopy and matplotlib</a>

              </div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; <a href="../copyright.html">Copyright</a> 2011 - 2018 British Crown Copyright, 2018 - 2021 Cartopy contributors.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.2.0.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>